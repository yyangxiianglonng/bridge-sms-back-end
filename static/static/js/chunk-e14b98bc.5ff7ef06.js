(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e14b98bc"],{6209:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-page-header",{attrs:{content:"详情页面"},on:{back:t.goBack}},[a("template",{slot:"title"},[t._t("title")],2),a("template",{slot:"content"},[t._t("content")],2)],2)},o=[],n={name:"PageHeader",methods:{goBack:function(){if(window.history.length<=1)return this.$router.push({path:"/ProjectList"}),!1;this.$router.go(-1)}}},l=n,s=(a("b0cc"),a("2877")),c=Object(s["a"])(l,r,o,!1,null,"9965c33a",null);e["a"]=c.exports},"67b1":function(t,e,a){"use strict";a.d(e,"g",(function(){return o})),a.d(e,"i",(function(){return n})),a.d(e,"d",(function(){return l})),a.d(e,"b",(function(){return s})),a.d(e,"c",(function(){return c})),a.d(e,"k",(function(){return u})),a.d(e,"h",(function(){return i})),a.d(e,"j",(function(){return m})),a.d(e,"e",(function(){return d})),a.d(e,"a",(function(){return p})),a.d(e,"f",(function(){return f}));var r=a("1bab");function o(t){return Object(r["a"])({url:"/estimate",method:"post",data:t})}function n(t){return Object(r["a"])({url:"/estimate",method:"put",data:t})}function l(t){return Object(r["a"])({url:"/estimate/",method:"get",data:t})}function s(t){return Object(r["a"])({url:"/estimate/all/"+t.project_code,method:"get",data:t})}function c(t){return Object(r["a"])({url:"/estimate/one/"+t.estimate_code,method:"get",data:t})}function u(t){return Object(r["a"])({url:"/estimate/search",method:"get",params:t})}function i(t){return Object(r["a"])({url:"/estimate/detail",method:"post",data:t})}function m(t){return Object(r["a"])({url:"/estimate/detail",method:"put",data:t})}function d(t){return Object(r["a"])({url:"/estimate/detail/all/"+t.estimate_code,method:"get",data:t})}function p(t){return Object(r["a"])({url:"/estimate/detail/"+t.estimate_details_code,method:"delete",data:t})}function f(t){return Object(r["a"])({url:"/estimate/pdf/"+t.estimate_code,method:"get",data:t})}},b0cc:function(t,e,a){"use strict";a("baba")},baba:function(t,e,a){},f77d:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("PageHeader",[a("template",{slot:"title"},[t._v("戻る")]),a("template",{slot:"content"},[t._v("見積一覧")])],2),[t._v("見積一覧画面です。この画面で〇〇条件で見積を検索できます。 ")],a("el-divider"),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm}},[a("el-row",{attrs:{type:"flex",gutter:40,justify:"left"}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"project_name"}},[a("el-input",{attrs:{placeholder:"案件名"},model:{value:t.ruleForm.project_name,callback:function(e){t.$set(t.ruleForm,"project_name",e)},expression:"ruleForm.project_name"}},[a("template",{slot:"prepend"},[t._v("案件名")])],2)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"project_code"}},[a("el-input",{attrs:{placeholder:"案件CD"},model:{value:t.ruleForm.project_code,callback:function(e){t.$set(t.ruleForm,"project_code",e)},expression:"ruleForm.project_code"}},[a("template",{slot:"prepend"},[t._v("案件CD")])],2)],1)],1)],1),a("el-row",{attrs:{type:"flex",gutter:40,justify:"start"}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"customer_name"}},[a("el-input",{attrs:{placeholder:"得意先"},model:{value:t.ruleForm.customer_name,callback:function(e){t.$set(t.ruleForm,"customer_name",e)},expression:"ruleForm.customer_name"}},[a("template",{slot:"prepend"},[t._v("得意先")])],2)],1)],1)],1),a("el-row",{attrs:{type:"flex",gutter:40,justify:"start"}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"estimate_code"}},[a("el-input",{attrs:{placeholder:"見積CD"},model:{value:t.estimate_code,callback:function(e){t.estimate_code=e},expression:"estimate_code"}},[a("template",{slot:"prepend"},[t._v("見積CD")])],2)],1)],1)],1),a("el-row",{attrs:{type:"flex",gutter:20,justify:"start"}},[a("el-col",{attrs:{span:12}},[a("el-form-item",[a("el-button-group",[a("el-button",{attrs:{type:"warning",icon:"el-icon-refresh",plain:""},on:{click:function(e){return t.resetForm("ruleForm")}}},[t._v("クリア")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-search",plain:""},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("検索")])],1)],1)],1)],1)],1)],1)],1),a("el-row",{attrs:{type:"flex",gutter:20,justify:"left"}},[a("el-col",{attrs:{span:24}},[a("el-divider")],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.EstimateTableData.filter((function(e){return!t.estimate_code||e.estimate_code.toLowerCase().includes(t.estimate_code.toLowerCase())})),"max-height":"800"}},[a("template",{slot:"empty"},[a("p",[t._v("見積データがありません")])]),a("el-table-column",{attrs:{label:"見積CD",width:"210%"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{staticClass:"rowTxt",on:{click:function(a){return t.handleEditEstimate(e.$index,e.row)}}},[t._v(t._s(e.row.estimate_code))])]}}])}),a("el-table-column",{attrs:{label:"見積名",width:"350%"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.estimate_name))])]}}])}),a("el-table-column",{attrs:{label:"成果物①",width:"150%"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.deliverables1))])]}}])}),a("el-table-column",{attrs:{label:"成果物②",width:"150%"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.deliverables2))])]}}])}),a("el-table-column",{attrs:{label:"成果物③",width:"150%"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.deliverables3))])]}}])}),a("el-table-column",{attrs:{label:"作業場所",width:"200%"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.work_space))])]}}])}),a("el-table-column",{attrs:{label:"税込金額",width:"150%",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",[t._v("税抜金額: "+t._s(e.row.sub_total))]),a("p",[t._v("税金: "+t._s(e.row.tax))]),a("p",[t._v("税込金額: "+t._s(e.row.total))]),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium",effect:"plain"}},[t._v(t._s(e.row.total))])],1)])]}}])}),a("el-table-column",{attrs:{label:"補足",width:"350%"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.supplement))])]}}])}),a("el-table-column",{attrs:{label:"備考",width:"350%"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.remarks))])]}}])}),a("el-table-column",{attrs:{label:"案件名"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.project_name))])]}}])}),a("el-table-column",{attrs:{label:"見積書No."},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.estimate_pdf_num))])]}}])})],2)],1)],1)],2)},o=[],n=a("67b1"),l=a("6209"),s=a("5c96"),c={name:"EstimateList",components:{PageHeader:l["a"]},data:function(){return{ruleForm:{project_name:"",project_code:"",customer_name:"",customer_code:"",is_delete:""},estimate_code:"",EstimateTableData:[]}},created:function(){this.getEstimateDatas()},methods:{getEstimateDatas:function(){var t=this;Object(n["d"])().then((function(e){t.EstimateTableData=e.data.data})).catch((function(t){console.log(t)}))},searchEstimateData:function(){var t=this,e={};e["project_code"]=this.ruleForm.project_code,e["project_name"]=this.ruleForm.project_name,e["customer_name"]=this.ruleForm.customer_name,e["customer_code"]=this.ruleForm.customer_code,e["is_delete"]=this.ruleForm.is_delete,Object(n["k"])(e).then((function(e){1===e.data.status?(t.EstimateTableData=e.data.data,Object(s["Message"])({showClose:!0,message:e.data.message,type:"success"})):Object(s["Message"])({showClose:!0,message:e.data.message,type:"error"})})).catch((function(t){console.log(t)}))},submitForm:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return console.log("error submit!!"),!1;e.searchEstimateData()}))},resetForm:function(t){this.$refs[t].resetFields()},handleEditEstimate:function(t,e){this.$router.push({path:"Projectform",query:{project_code:e.project_code}})}}},u=c,i=a("2877"),m=Object(i["a"])(u,r,o,!1,null,"865abe04",null);e["default"]=m.exports}}]);
//# sourceMappingURL=chunk-e14b98bc.5ff7ef06.js.map