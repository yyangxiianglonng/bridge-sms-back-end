(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-81c0bf04"],{6570:function(e,r,t){"use strict";t.r(r);var o=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules}},[t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{prop:"ProjectName"}},[t("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.ProjectName,callback:function(r){e.$set(e.ruleForm,"ProjectName",r)},expression:"ruleForm.ProjectName"}},[t("template",{slot:"prepend"},[e._v("案件名")])],2)],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{prop:"ProjectCode"}},[t("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.ProjectCode,callback:function(r){e.$set(e.ruleForm,"ProjectCode",r)},expression:"ruleForm.ProjectCode"}},[t("template",{slot:"prepend"},[e._v("案件CD")])],2)],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{prop:"EstimateCode"}},[t("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.EstimateCode,callback:function(r){e.$set(e.ruleForm,"EstimateCode",r)},expression:"ruleForm.EstimateCode"}},[t("template",{slot:"prepend"},[e._v("見積CD")])],2)],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{prop:"OrderCode"}},[t("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.OrderCode,callback:function(r){e.$set(e.ruleForm,"OrderCode",r)},expression:"ruleForm.OrderCode"}},[t("template",{slot:"prepend"},[e._v("注文CD")])],2)],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{prop:"CustomerName"}},[t("el-input",{model:{value:e.ruleForm.CustomerName,callback:function(r){e.$set(e.ruleForm,"CustomerName",r)},expression:"ruleForm.CustomerName"}},[t("template",{slot:"prepend"},[e._v("得意先名")])],2)],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{prop:"CustomerAddress"}},[t("el-input",{model:{value:e.ruleForm.CustomerAddress,callback:function(r){e.$set(e.ruleForm,"CustomerAddress",r)},expression:"ruleForm.CustomerAddress"}},[t("template",{slot:"prepend"},[e._v("得意先住所")])],2)],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{prop:"Work"}},[t("el-input",{model:{value:e.ruleForm.Work,callback:function(r){e.$set(e.ruleForm,"Work",r)},expression:"ruleForm.Work"}},[t("template",{slot:"prepend"},[e._v("作業内容")])],2)],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{prop:"PersonnelI"}},[t("el-input",{model:{value:e.ruleForm.PersonnelI,callback:function(r){e.$set(e.ruleForm,"PersonnelI",r)},expression:"ruleForm.PersonnelI"}},[t("template",{slot:"prepend"},[e._v("主任担当者(甲)")])],2)],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{prop:"WorkTime"}},[t("el-input",{model:{value:e.ruleForm.WorkTime,callback:function(r){e.$set(e.ruleForm,"WorkTime",r)},expression:"ruleForm.WorkTime"}},[t("template",{slot:"prepend"},[e._v("作業期間")])],2)],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{prop:"PersonnelII"}},[t("el-input",{model:{value:e.ruleForm.PersonnelII,callback:function(r){e.$set(e.ruleForm,"PersonnelII",r)},expression:"ruleForm.PersonnelII"}},[t("template",{slot:"prepend"},[e._v("主任担当者(乙)")])],2)],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{prop:"Deliverables"}},[t("el-input",{model:{value:e.ruleForm.Deliverables,callback:function(r){e.$set(e.ruleForm,"Deliverables",r)},expression:"ruleForm.Deliverables"}},[t("template",{slot:"prepend"},[e._v("納入物")])],2)],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{prop:"Commission"}},[t("el-input",{model:{value:e.ruleForm.Commission,callback:function(r){e.$set(e.ruleForm,"Commission",r)},expression:"ruleForm.Commission"}},[t("template",{slot:"prepend"},[e._v("委託料")])],2)],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{prop:"DeliverableSpace"}},[t("el-input",{model:{value:e.ruleForm.DeliverableSpace,callback:function(r){e.$set(e.ruleForm,"DeliverableSpace",r)},expression:"ruleForm.DeliverableSpace"}},[t("template",{slot:"prepend"},[e._v("納入場所")])],2)],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{prop:"PaymentDate"}},[t("el-input",{model:{value:e.ruleForm.PaymentDate,callback:function(r){e.$set(e.ruleForm,"PaymentDate",r)},expression:"ruleForm.PaymentDate"}},[t("template",{slot:"prepend"},[e._v("支払期日")])],2)],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{prop:"Other"}},[t("el-input",{model:{value:e.ruleForm.Other,callback:function(r){e.$set(e.ruleForm,"Other",r)},expression:"ruleForm.Other"}},[t("template",{slot:"prepend"},[e._v("その他")])],2)],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{prop:"AcceptanceConditions"}},[t("el-input",{model:{value:e.ruleForm.AcceptanceConditions,callback:function(r){e.$set(e.ruleForm,"AcceptanceConditions",r)},expression:"ruleForm.AcceptanceConditions"}},[t("template",{slot:"prepend"},[e._v("検収条件")])],2)],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{label:"",prop:"Note"}},[t("el-input",{model:{value:e.ruleForm.Note,callback:function(r){e.$set(e.ruleForm,"Note",r)},expression:"ruleForm.Note"}},[t("template",{slot:"prepend"},[e._v("※(注)")])],2)],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:24}},[t("el-form-item",[t("el-button-group",[t("el-button",{attrs:{type:"warning"},on:{click:function(r){return e.cancelForm()}}},[e._v("キャンセル")]),t("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.submitForm("ruleForm")}}},[e._v("登録")])],1)],1)],1)],1)],1)},a=[],l=t("f8b7"),s=t("9671"),n={name:"OrderForm",components:{},props:{cOrderForm:{type:Object,default:function(){return{ProjectName:"",ProjectCode:"",CustomerName:"",EstimateCode:"",OrderCode:"",uuid:""}}}},data:function(){return{ruleForm:{OrderCode:this.cOrderForm.OrderCode,ProjectName:this.cOrderForm.ProjectName,ProjectCode:this.cOrderForm.ProjectCode,EstimateCode:this.cOrderForm.EstimateCode,CustomerName:this.cOrderForm.CustomerName,CustomerAddress:"",Work:"",WorkTime:"",PersonnelI:"",PersonnelII:"",Deliverables:"",DeliverableSpace:"",Commission:"",PaymentDate:"",AcceptanceConditions:"",Other:"",Note:""},rules:{CustomerName:[{required:!0,message:"得意先名を入力してください",trigger:"change"}],CustomerAddress:[{required:!0,message:"得意先住所を入力してください",trigger:"blur"}],Work:[{required:!0,message:"作業内容を入力してください",trigger:"blur"}],WorkTime:[{required:!0,message:"作業期間を入力してください",trigger:"blur"}],PersonnelI:[{required:!0,message:"主任担当者(甲)を入力してください",trigger:"blur"}],PersonnelII:[{required:!0,message:"主任担当者(乙)を入力してください",trigger:"blur"}],Deliverables:[{required:!0,message:"成果物を入力してください",trigger:"blur"}],DeliverableSpace:[{required:!0,message:"納入場所を入力してください",trigger:"blur"}],Commission:[{required:!0,message:"委託料を入力してください",trigger:"blur"}],PaymentDate:[{required:!0,message:"支払期日を入力してください",trigger:"blur"}],AcceptanceConditions:[{required:!0,message:"検収条件を入力してください",trigger:"blur"}]}}},computed:{newDateTime:function(){var e=new Date,r=e.getFullYear(),t=e.getMonth()+1,o=e.getDate(),a=e.getHours(),l=e.getMinutes();t>=1&&t<=9&&(t="0"+t),o>=0&&o<=9&&(o="0"+o);var s=r+"-"+t+"-"+o+" "+a+":"+l;return s}},created:function(){this.getOrderDataOne(),this.getCustomerDataOne()},methods:{postOrderData:function(){var e=this,r={};r["OrderCode"]=this.ruleForm.OrderCode,r["ProjectName"]=this.ruleForm.ProjectName,r["ProjectCode"]=this.ruleForm.ProjectCode,r["EstimateCode"]=this.ruleForm.EstimateCode,r["CustomerName"]=this.ruleForm.CustomerName,r["CustomerAddress"]=this.ruleForm.CustomerAddress,r["Work"]=this.ruleForm.Work,r["WorkTime"]=this.ruleForm.WorkTime,r["PersonnelI"]=this.ruleForm.PersonnelI,r["PersonnelII"]=this.ruleForm.PersonnelII,r["Deliverables"]=this.ruleForm.Deliverables,r["DeliverableSpace"]=this.ruleForm.DeliverableSpace,r["Commission"]=this.ruleForm.Commission,r["PaymentDate"]=this.ruleForm.PaymentDate,r["AcceptanceConditions"]=this.ruleForm.AcceptanceConditions,r["Other"]=this.ruleForm.Other,r["Note"]=this.ruleForm.Note,r["DateTime"]=this.newDateTime,Object(l["c"])(r).then((function(r){200==r.status?(e.$emit("submit"),e.$message({showClose:!0,message:"注文書データ登録・更新成功しました。",type:"success"})):(e.$emit("cancel"),e.$message({showClose:!0,message:"注文書データ登録・更新失敗しました。",type:"error"}))})).catch((function(e){console.log(e)}))},getOrderDataOne:function(){var e=this,r={};r["OrderCode"]=this.cOrderForm.OrderCode,Object(l["b"])(r).then((function(r){e.ruleForm.OrderCode=r.data.data[0].OrderCode,e.ruleForm.ProjectName=r.data.data[0].ProjectName,e.ruleForm.ProjectCode=r.data.data[0].ProjectCode,e.ruleForm.EstimateCode=r.data.data[0].EstimateCode,e.ruleForm.CustomerName=r.data.data[0].CustomerName,e.ruleForm.CustomerAddress=r.data.data[0].CustomerAddress,e.ruleForm.Work=r.data.data[0].Work,e.ruleForm.WorkTime=r.data.data[0].WorkTime,e.ruleForm.PersonnelI=r.data.data[0].PersonnelI,e.ruleForm.PersonnelII=r.data.data[0].PersonnelII,e.ruleForm.Deliverables=r.data.data[0].Deliverables,e.ruleForm.DeliverableSpace=r.data.data[0].DeliverableSpace,e.ruleForm.Commission=r.data.data[0].Commission,e.ruleForm.PaymentDate=r.data.data[0].PaymentDate,e.ruleForm.AcceptanceConditions=r.data.data[0].AcceptanceConditions,e.ruleForm.Other=r.data.data[0].Other,e.ruleForm.Note=r.data.data[0].Note})).catch((function(e){console.log(e)}))},getCustomerDataOne:function(){var e=this,r={};r["CustomerCode"]=this.cOrderForm.CustomerCode,Object(s["b"])(r).then((function(r){e.ruleForm.CustomerAddress=r.data.data[0].Address1+" "+r.data.data[0].Address2+" "+r.data.data[0].Address3})).catch((function(e){console.log(e)}))},submitForm:function(e){var r=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;alert("submit!"),r.postOrderData()}))},cancelForm:function(){this.$emit("cancel")}}},m=n,u=t("2877"),i=Object(u["a"])(m,o,a,!1,null,"5747e5a2",null);r["default"]=i.exports},9671:function(e,r,t){"use strict";t.d(r,"c",(function(){return a})),t.d(r,"a",(function(){return l})),t.d(r,"b",(function(){return s})),t.d(r,"d",(function(){return n}));var o=t("1bab");function a(e){return Object(o["a"])({url:"/PostCustomerData",method:"post",data:e})}function l(e){return Object(o["a"])({url:"/GetCustomerDataAll",method:"get",data:e})}function s(e){return Object(o["a"])({url:"/GetCustomerDataOne",method:"post",data:e})}function n(e){return Object(o["a"])({url:"/SearchCustomerData",method:"post",data:e})}},f8b7:function(e,r,t){"use strict";t.d(r,"c",(function(){return a})),t.d(r,"a",(function(){return l})),t.d(r,"b",(function(){return s}));var o=t("1bab");function a(e){return Object(o["a"])({url:"/PostOrderData",method:"post",data:e})}function l(e){return Object(o["a"])({url:"/GetOrderDataAll",method:"post",data:e})}function s(e){return Object(o["a"])({url:"/GetOrderDataOne",method:"post",data:e})}}}]);
//# sourceMappingURL=chunk-81c0bf04.4f3956b6.js.map