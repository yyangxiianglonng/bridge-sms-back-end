(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-30325fc4","chunk-2008aba2","chunk-81c0bf04"],{"05e2":function(e,t,r){"use strict";r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return l})),r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return c}));var o=r("1bab");function a(e){return Object(o["a"])({url:"/delivery",method:"post",data:e})}function l(e){return Object(o["a"])({url:"/delivery",method:"put",data:e})}function s(e){return Object(o["a"])({url:"/delivery/all/"+e.project_code,method:"get",data:e})}function c(e){return Object(o["a"])({url:"/delivery/one/"+e.delivery_code,method:"get",data:e})}},"0f88":function(e,t,r){"use strict";r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return l})),r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return c}));var o=r("1bab");function a(e){return Object(o["a"])({url:"/acceptance",method:"post",data:e})}function l(e){return Object(o["a"])({url:"/acceptance",method:"put",data:e})}function s(e){return Object(o["a"])({url:"/acceptance/all/"+e.project_code,method:"get",data:e})}function c(e){return Object(o["a"])({url:"/acceptance/one/"+e.acceptance_code,method:"get",data:e})}},"35a8":function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{prop:"customer_name"}},[r("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.customer_name,callback:function(t){e.$set(e.ruleForm,"customer_name",t)},expression:"ruleForm.customer_name"}},[r("template",{slot:"prepend"},[e._v("得意先名")])],2)],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{prop:"project_code"}},[r("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.project_code,callback:function(t){e.$set(e.ruleForm,"project_code",t)},expression:"ruleForm.project_code"}},[r("template",{slot:"prepend"},[e._v("案件CD")])],2)],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{prop:"estimate_code"}},[r("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.estimate_code,callback:function(t){e.$set(e.ruleForm,"estimate_code",t)},expression:"ruleForm.estimate_code"}},[r("template",{slot:"prepend"},[e._v("見積CD")])],2)],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{prop:"delivery_code"}},[r("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.delivery_code,callback:function(t){e.$set(e.ruleForm,"delivery_code",t)},expression:"ruleForm.delivery_code"}},[r("template",{slot:"prepend"},[e._v("納品CD")])],2)],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{prop:"project_name"}},[r("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.project_name,callback:function(t){e.$set(e.ruleForm,"project_name",t)},expression:"ruleForm.project_name"}},[r("template",{slot:"prepend"},[e._v("案件名")])],2)],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:24}},[r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("el-col",{attrs:{span:10}},[e._v("商品名/摘要")]),r("el-col",{attrs:{span:4}},[e._v("数量")]),r("el-col",{attrs:{span:10}},[e._v("備考")])],1),r("div",[r("el-row",{attrs:{gutter:0}},[r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{prop:"deliverables1"}},[r("el-input",{model:{value:e.ruleForm.deliverables1,callback:function(t){e.$set(e.ruleForm,"deliverables1",t)},expression:"ruleForm.deliverables1"}})],1)],1),r("el-col",{attrs:{span:4}},[r("el-form-item",{attrs:{prop:"quantity1"}},[r("el-input",{model:{value:e.ruleForm.quantity1,callback:function(t){e.$set(e.ruleForm,"quantity1",t)},expression:"ruleForm.quantity1"}})],1)],1),r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{prop:"memo1"}},[r("el-input",{model:{value:e.ruleForm.memo1,callback:function(t){e.$set(e.ruleForm,"memo1",t)},expression:"ruleForm.memo1"}})],1)],1),r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{prop:"deliverables2"}},[r("el-input",{model:{value:e.ruleForm.deliverables2,callback:function(t){e.$set(e.ruleForm,"deliverables2",t)},expression:"ruleForm.deliverables2"}})],1)],1),r("el-col",{attrs:{span:4}},[r("el-form-item",{attrs:{prop:"quantity2"}},[r("el-input",{model:{value:e.ruleForm.quantity2,callback:function(t){e.$set(e.ruleForm,"quantity2",t)},expression:"ruleForm.quantity2"}})],1)],1),r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{prop:"memo2"}},[r("el-input",{model:{value:e.ruleForm.memo2,callback:function(t){e.$set(e.ruleForm,"memo2",t)},expression:"ruleForm.memo2"}})],1)],1),r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{prop:"deliverables3"}},[r("el-input",{model:{value:e.ruleForm.deliverables3,callback:function(t){e.$set(e.ruleForm,"deliverables3",t)},expression:"ruleForm.deliverables3"}})],1)],1),r("el-col",{attrs:{span:4}},[r("el-form-item",{attrs:{prop:"quantity3"}},[r("el-input",{model:{value:e.ruleForm.quantity3,callback:function(t){e.$set(e.ruleForm,"quantity3",t)},expression:"ruleForm.quantity3"}})],1)],1),r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{prop:"memo3"}},[r("el-input",{model:{value:e.ruleForm.memo3,callback:function(t){e.$set(e.ruleForm,"memo3",t)},expression:"ruleForm.memo3"}})],1)],1)],1)],1)])],1)],1),r("br"),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"",prop:"remarks"}},[r("el-input",{model:{value:e.ruleForm.remarks,callback:function(t){e.$set(e.ruleForm,"remarks",t)},expression:"ruleForm.remarks"}},[r("template",{slot:"prepend"},[e._v("※(注)")])],2)],1)],1)],1),r("el-row",{attrs:{type:"flex",gutter:20,justify:"end"}},[r("el-col",{attrs:{span:2}},[r("p",[e._v("以上")])])],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:24}},[r("el-form-item",[r("el-button-group",[r("el-button",{attrs:{type:"warning",icon:"el-icon-document-delete",plain:""},on:{click:function(t){return e.cancelForm()}}},[e._v("閉じる")]),r("el-button",{attrs:{type:"primary",icon:"el-icon-document-checked",plain:""},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("登録・更新")])],1)],1)],1)],1)],1)},a=[],l=r("67b1"),s=r("05e2"),c=r("5c96"),n={name:"DeliveryForm",components:{},props:{cDeliveryForm:{type:Object,defaylt:function(){return{project_name:"",project_code:"",customer_name:"",estimate_code:"",delivery_code:"",method:""}}}},data:function(){return{ruleForm:{delivery_code:this.cDeliveryForm.delivery_code,project_name:this.cDeliveryForm.project_name,project_code:this.cDeliveryForm.project_code,estimate_code:this.cDeliveryForm.estimate_code,customer_name:this.cDeliveryForm.customer_name,deliverables1:"",deliverables2:"",deliverables3:"",quantity1:"",quantity2:"",quantity3:"",memo1:"",memo2:"",memo3:"",remarks:""},rules:{customer_name:[{required:!0,message:"得意先名を入力してください",trigger:"change"}],CustomerAddress:[{required:!0,message:"得意先住所を入力してください",trigger:"blur"}],Work:[{required:!0,message:"作業内容を入力してください",trigger:"blur"}],WorkTime:[{required:!0,message:"作業期間を入力してください",trigger:"blur"}],PersonnelI:[{required:!0,message:"主任担当者(甲)を入力してください",trigger:"blur"}],PersonnelII:[{required:!0,message:"主任担当者(乙)を入力してください",trigger:"blur"}],Deliverables:[{required:!0,message:"成果物を入力してください",trigger:"blur"}],DeliverableSpace:[{required:!0,message:"納入場所を入力してください",trigger:"blur"}],Commission:[{required:!0,message:"委託料を入力してください",trigger:"blur"}],PaymentDate:[{required:!0,message:"支払期日を入力してください",trigger:"blur"}],AcceptanceConditions:[{required:!0,message:"検収条件を入力してください",trigger:"blur"}]}}},created:function(){"put"===this.cDeliveryForm.method?this.getDeliveryDataOne():this.getEstimateDataOne(),this.getEstimateDetailsDataAll()},methods:{getEstimateDataOne:function(){var e=this,t={};t["estimate_code"]=this.cDeliveryForm.estimate_code,Object(l["c"])(t).then((function(t){console.log(t),e.ruleForm.deliverables1=t.data.data[0].deliverables1,e.ruleForm.deliverables2=t.data.data[0].deliverables2,e.ruleForm.deliverables3=t.data.data[0].deliverables3,e.ruleForm.quantity1=t.data.data[0].quantity1,e.ruleForm.quantity2=t.data.data[0].quantity2,e.ruleForm.quantity3=t.data.data[0].quantity3})).catch((function(e){console.log(e)}))},getEstimateDetailsDataAll:function(){var e={};e["estimate_code"]=this.cDeliveryForm.estimate_code,Object(l["e"])(e).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))},getDeliveryDataOne:function(){var e=this,t={};t["delivery_code"]=this.cDeliveryForm.delivery_code,Object(s["b"])(t).then((function(t){e.ruleForm.delivery_code=t.data.data[0].delivery_code,e.ruleForm.project_name=t.data.data[0].project_name,e.ruleForm.project_code=t.data.data[0].project_code,e.ruleForm.estimate_code=t.data.data[0].estimate_code,e.ruleForm.customer_name=t.data.data[0].customer_name,e.ruleForm.deliverables1=t.data.data[0].deliverables1,e.ruleForm.deliverables2=t.data.data[0].deliverables2,e.ruleForm.deliverables3=t.data.data[0].deliverables3,e.ruleForm.quantity1=t.data.data[0].quantity1,e.ruleForm.quantity2=t.data.data[0].quantity2,e.ruleForm.quantity3=t.data.data[0].quantity3,e.ruleForm.memo1=t.data.data[0].memo1,e.ruleForm.memo2=t.data.data[0].memo2,e.ruleForm.memo3=t.data.data[0].memo3,e.ruleForm.remarks=t.data.data[0].remarks})).catch((function(e){console.log(e)}))},postDeliveryData:function(){var e=this,t={};t["delivery_code"]=this.ruleForm.delivery_code,t["estimate_code"]=this.ruleForm.estimate_code,t["project_code"]=this.ruleForm.project_code,t["project_name"]=this.ruleForm.project_name,t["customer_name"]=this.ruleForm.customer_name,t["deliverables1"]=this.ruleForm.deliverables1,t["deliverables2"]=this.ruleForm.deliverables2,t["deliverables3"]=this.ruleForm.deliverables3,t["quantity1"]=this.ruleForm.quantity1,t["quantity2"]=this.ruleForm.quantity2,t["quantity3"]=this.ruleForm.quantity3,t["memo1"]=this.ruleForm.memo1,t["memo2"]=this.ruleForm.memo2,t["memo3"]=this.ruleForm.memo3,t["remarks"]=this.ruleForm.remarks,t["created_by"]=this.$store.getters.full_name,Object(s["c"])(t).then((function(t){200===t.status?(e.$emit("submit"),Object(c["Message"])({showClose:!0,message:t.data.message,type:"success"})):(e.$emit("cancel"),Object(c["Message"])({showClose:!0,message:t.data.message,type:"error"}))})).catch((function(e){console.log(e)}))},putDeliveryData:function(){var e=this,t={};t["delivery_code"]=this.ruleForm.delivery_code,t["estimate_code"]=this.ruleForm.estimate_code,t["project_code"]=this.ruleForm.project_code,t["project_name"]=this.ruleForm.project_name,t["customer_name"]=this.ruleForm.customer_name,t["deliverables1"]=this.ruleForm.deliverables1,t["deliverables2"]=this.ruleForm.deliverables2,t["deliverables3"]=this.ruleForm.deliverables3,t["quantity1"]=this.ruleForm.quantity1,t["quantity2"]=this.ruleForm.quantity2,t["quantity3"]=this.ruleForm.quantity3,t["memo1"]=this.ruleForm.memo1,t["memo2"]=this.ruleForm.memo2,t["memo3"]=this.ruleForm.memo3,t["remarks"]=this.ruleForm.remarks,t["modified_by"]=this.$store.getters.full_name,Object(s["d"])(t).then((function(t){200===t.status?(e.$emit("submit"),Object(c["Message"])({showClose:!0,message:t.data.message,type:"success"})):(e.$emit("cancel"),Object(c["Message"])({showClose:!0,message:t.data.message,type:"error"}))})).catch((function(e){console.log(e)}))},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;"put"===t.cDeliveryForm.method?t.putDeliveryData():t.postDeliveryData()}))},cancelForm:function(){this.$emit("cancel")}}},i=n,m=r("2877"),u=Object(m["a"])(i,o,a,!1,null,"0646015a",null);t["default"]=u.exports},6209:function(e,t,r){"use strict";var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-page-header",{attrs:{content:"详情页面"},on:{back:e.goBack}},[r("template",{slot:"title"},[e._t("title")],2),r("template",{slot:"content"},[e._t("content")],2)],2)},a=[],l={name:"PageHeader",methods:{goBack:function(){if(window.history.length<=1)return this.$router.push({path:"/ProjectList"}),!1;this.$router.go(-1)}}},s=l,c=(r("b0cc"),r("2877")),n=Object(c["a"])(s,o,a,!1,null,"9965c33a",null);t["a"]=n.exports},6570:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{prop:"project_name"}},[r("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.project_name,callback:function(t){e.$set(e.ruleForm,"project_name",t)},expression:"ruleForm.project_name"}},[r("template",{slot:"prepend"},[e._v("案件名")])],2)],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{prop:"project_code"}},[r("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.project_code,callback:function(t){e.$set(e.ruleForm,"project_code",t)},expression:"ruleForm.project_code"}},[r("template",{slot:"prepend"},[e._v("案件CD")])],2)],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{prop:"estimate_code"}},[r("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.estimate_code,callback:function(t){e.$set(e.ruleForm,"estimate_code",t)},expression:"ruleForm.estimate_code"}},[r("template",{slot:"prepend"},[e._v("見積CD")])],2)],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{prop:"order_code"}},[r("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.order_code,callback:function(t){e.$set(e.ruleForm,"order_code",t)},expression:"ruleForm.order_code"}},[r("template",{slot:"prepend"},[e._v("注文CD")])],2)],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{prop:"estimate_name"}},[r("el-input",{model:{value:e.ruleForm.estimate_name,callback:function(t){e.$set(e.ruleForm,"estimate_name",t)},expression:"ruleForm.estimate_name"}},[r("template",{slot:"prepend"},[e._v("件名（業務名）")])],2)],1)],1),r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{prop:"estimate_of_order"}},[r("el-input",{model:{value:e.ruleForm.estimate_of_order,callback:function(t){e.$set(e.ruleForm,"estimate_of_order",t)},expression:"ruleForm.estimate_of_order"}},[r("template",{slot:"prepend"},[e._v("標題の件につき")])],2)],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{prop:"customer_name"}},[r("el-input",{model:{value:e.ruleForm.customer_name,callback:function(t){e.$set(e.ruleForm,"customer_name",t)},expression:"ruleForm.customer_name"}},[r("template",{slot:"prepend"},[e._v("得意先名")])],2)],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{prop:"customer_address"}},[r("el-input",{model:{value:e.ruleForm.customer_address,callback:function(t){e.$set(e.ruleForm,"customer_address",t)},expression:"ruleForm.customer_address"}},[r("template",{slot:"prepend"},[e._v("得意先住所")])],2)],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{prop:"work"}},[r("div",[e._v("作業内容")]),r("el-input",{attrs:{type:"textarea",autosize:""},model:{value:e.ruleForm.work,callback:function(t){e.$set(e.ruleForm,"work",t)},expression:"ruleForm.work"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{prop:"personnel1"}},[r("div",[e._v("主任担当者")]),r("el-input",{attrs:{type:"textarea",rows:2},model:{value:e.ruleForm.personnel1,callback:function(t){e.$set(e.ruleForm,"personnel1",t)},expression:"ruleForm.personnel1"}})],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{prop:"work_time"}},[r("el-input",{model:{value:e.ruleForm.work_time,callback:function(t){e.$set(e.ruleForm,"work_time",t)},expression:"ruleForm.work_time"}},[r("template",{slot:"prepend"},[e._v("作業期間/納期")])],2)],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{prop:"deliverables"}},[r("el-input",{model:{value:e.ruleForm.deliverables,callback:function(t){e.$set(e.ruleForm,"deliverables",t)},expression:"ruleForm.deliverables"}},[r("template",{slot:"prepend"},[e._v("納入物")])],2)],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{prop:"commission"}},[r("el-input",{model:{value:e.ruleForm.commission,callback:function(t){e.$set(e.ruleForm,"commission",t)},expression:"ruleForm.commission"}},[r("template",{slot:"prepend"},[e._v("委託料")])],2)],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{prop:"deliverable_space"}},[r("el-input",{model:{value:e.ruleForm.deliverable_space,callback:function(t){e.$set(e.ruleForm,"deliverable_space",t)},expression:"ruleForm.deliverable_space"}},[r("template",{slot:"prepend"},[e._v("納入場所")])],2)],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{prop:"payment_date"}},[r("el-input",{model:{value:e.ruleForm.payment_date,callback:function(t){e.$set(e.ruleForm,"payment_date",t)},expression:"ruleForm.payment_date"}},[r("template",{slot:"prepend"},[e._v("支払期日")])],2)],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{prop:"other"}},[r("el-input",{model:{value:e.ruleForm.other,callback:function(t){e.$set(e.ruleForm,"other",t)},expression:"ruleForm.other"}},[r("template",{slot:"prepend"},[e._v("その他")])],2)],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{prop:"acceptance_conditions"}},[r("el-input",{model:{value:e.ruleForm.acceptance_conditions,callback:function(t){e.$set(e.ruleForm,"acceptance_conditions",t)},expression:"ruleForm.acceptance_conditions"}},[r("template",{slot:"prepend"},[e._v("検収条件")])],2)],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"",prop:"note"}},[r("div",[e._v("※(注)")]),r("el-input",{attrs:{type:"textarea",rows:2},model:{value:e.ruleForm.note,callback:function(t){e.$set(e.ruleForm,"note",t)},expression:"ruleForm.note"}})],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:24}},[r("el-form-item",[r("el-button-group",[r("el-button",{attrs:{type:"warning",icon:"el-icon-document-delete",plain:""},on:{click:function(t){return e.cancelForm()}}},[e._v("閉じる")]),r("el-button",{attrs:{type:"primary",icon:"el-icon-document-checked",plain:""},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("登録・更新")])],1)],1)],1)],1)],1)},a=[],l=r("f8b7"),s=r("9671"),c=r("5c96"),n={name:"OrderForm",components:{},props:{cOrderForm:{type:Object,default:function(){return{project_name:"",project_code:"",customer_name:"",estimate_code:"",estimate_name:"",order_code:"",method:""}}}},data:function(){return{ruleForm:{order_code:this.cOrderForm.order_code,project_name:this.cOrderForm.project_name,project_code:this.cOrderForm.project_code,estimate_code:this.cOrderForm.estimate_code,estimate_name:this.cOrderForm.estimate_name,customer_name:this.cOrderForm.customer_name,estimate_of_order:"",customer_address:"",work:"",work_time:"",personnel1:"",personnel2:"",deliverables:"",deliverable_space:"",commission:"",payment_date:"",acceptance_conditions:"",other:"",note:""},rules:{customer_name:[{required:!0,message:"得意先名を入力してください",trigger:"change"}],customer_address:[{required:!0,message:"得意先住所を入力してください",trigger:"blur"}],work:[{required:!0,message:"作業内容を入力してください",trigger:"blur"}],work_time:[{required:!0,message:"作業期間を入力してください",trigger:"blur"}],personnel1:[{required:!0,message:"主任担当者を入力してください",trigger:"blur"}],personnel2:[{required:!0,message:"主任担当者(乙)を入力してください",trigger:"blur"}],deliverables:[{required:!0,message:"成果物を入力してください",trigger:"blur"}],deliverable_space:[{required:!0,message:"納入場所を入力してください",trigger:"blur"}],commission:[{required:!0,message:"委託料を入力してください",trigger:"blur"}],payment_date:[{required:!0,message:"支払期日を入力してください",trigger:"blur"}],acceptance_conditions:[{required:!0,message:"検収条件を入力してください",trigger:"blur"}]}}},created:function(){"put"===this.cOrderForm.method&&this.getOrderDataOne(),this.getCustomerDataOne()},methods:{postOrderData:function(){var e=this,t={};t["order_code"]=this.ruleForm.order_code,t["project_name"]=this.ruleForm.project_name,t["project_code"]=this.ruleForm.project_code,t["estimate_code"]=this.ruleForm.estimate_code,t["estimate_name"]=this.ruleForm.estimate_name,t["estimate_of_order"]=this.ruleForm.estimate_of_order,t["customer_name"]=this.ruleForm.customer_name,t["customer_address"]=this.ruleForm.customer_address,t["work"]=this.ruleForm.work,t["work_time"]=this.ruleForm.work_time,t["personnel1"]=this.ruleForm.personnel1,t["personnel2"]=this.ruleForm.personnel2,t["deliverables"]=this.ruleForm.deliverables,t["deliverable_space"]=this.ruleForm.deliverable_space,t["commission"]=this.ruleForm.commission,t["payment_date"]=this.ruleForm.payment_date,t["acceptance_conditions"]=this.ruleForm.acceptance_conditions,t["other"]=this.ruleForm.other,t["note"]=this.ruleForm.note,t["created_by"]=this.$store.getters.full_name,Object(l["d"])(t).then((function(t){1===t.data.status?(e.$emit("submit"),Object(c["Message"])({showClose:!0,message:t.data.message,type:"success"})):(e.$emit("cancel"),Object(c["Message"])({showClose:!0,message:t.data.message,type:"error"}))})).catch((function(e){console.log(e)}))},putOrderData:function(){var e=this,t={};t["order_code"]=this.ruleForm.order_code,t["project_name"]=this.ruleForm.project_name,t["project_code"]=this.ruleForm.project_code,t["estimate_code"]=this.ruleForm.estimate_code,t["estimate_name"]=this.ruleForm.estimate_name,t["estimate_of_order"]=this.ruleForm.estimate_of_order,t["customer_name"]=this.ruleForm.customer_name,t["customer_address"]=this.ruleForm.customer_address,t["work"]=this.ruleForm.work,t["work_time"]=this.ruleForm.work_time,t["personnel1"]=this.ruleForm.personnel1,t["personnel2"]=this.ruleForm.personnel2,t["deliverables"]=this.ruleForm.deliverables,t["deliverable_space"]=this.ruleForm.deliverable_space,t["commission"]=this.ruleForm.commission,t["payment_date"]=this.ruleForm.payment_date,t["acceptance_conditions"]=this.ruleForm.acceptance_conditions,t["other"]=this.ruleForm.other,t["note"]=this.ruleForm.note,t["modified_by"]=this.$store.getters.full_name,Object(l["e"])(t).then((function(t){1===t.data.status?(e.$emit("submit"),Object(c["Message"])({showClose:!0,message:t.data.message,type:"success"})):(e.$emit("cancel"),Object(c["Message"])({showClose:!0,message:t.data.message,type:"error"}))})).catch((function(e){console.log(e)}))},getOrderDataOne:function(){var e=this,t={};t["order_code"]=this.cOrderForm.order_code,Object(l["b"])(t).then((function(t){e.ruleForm.order_code=e.cOrderForm.order_code,e.ruleForm.project_name=t.data.data[0].project_name,e.ruleForm.project_code=t.data.data[0].project_code,e.ruleForm.estimate_code=t.data.data[0].estimate_code,e.ruleForm.estimate_name=t.data.data[0].estimate_name,e.ruleForm.estimate_of_order=t.data.data[0].estimate_of_order,e.ruleForm.customer_name=t.data.data[0].customer_name,e.ruleForm.customer_address=t.data.data[0].customer_address,e.ruleForm.work=t.data.data[0].work,e.ruleForm.work_time=t.data.data[0].work_time,e.ruleForm.personnel1=t.data.data[0].personnel1,e.ruleForm.personnel2=t.data.data[0].personnel2,e.ruleForm.deliverables=t.data.data[0].deliverables,e.ruleForm.deliverable_space=t.data.data[0].deliverable_space,e.ruleForm.commission=t.data.data[0].commission,e.ruleForm.payment_date=t.data.data[0].payment_date,e.ruleForm.acceptance_conditions=t.data.data[0].acceptance_conditions,e.ruleForm.other=t.data.data[0].other,e.ruleForm.note=t.data.data[0].note})).catch((function(e){console.log(e)}))},getCustomerDataOne:function(){var e=this,t={};t["customer_code"]=this.cOrderForm.customer_code,Object(s["b"])(t).then((function(t){e.ruleForm.customer_address=t.data.data[0].address1+" "+t.data.data[0].address2+" "+t.data.data[0].address3})).catch((function(e){console.log(e)}))},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;"put"===t.cOrderForm.method?t.putOrderData():t.postOrderData()}))},cancelForm:function(){this.$emit("cancel")}}},i=n,m=r("2877"),u=Object(m["a"])(i,o,a,!1,null,"61b14d5a",null);t["default"]=u.exports},"6fee":function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{prop:"customer_name"}},[r("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.customer_name,callback:function(t){e.$set(e.ruleForm,"customer_name",t)},expression:"ruleForm.customer_name"}},[r("template",{slot:"prepend"},[e._v("得意先名")])],2)],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{prop:"project_code"}},[r("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.project_code,callback:function(t){e.$set(e.ruleForm,"project_code",t)},expression:"ruleForm.project_code"}},[r("template",{slot:"prepend"},[e._v("案件CD")])],2)],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{prop:"estimate_code"}},[r("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.estimate_code,callback:function(t){e.$set(e.ruleForm,"estimate_code",t)},expression:"ruleForm.estimate_code"}},[r("template",{slot:"prepend"},[e._v("見積CD")])],2)],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{prop:"delivery_code"}},[r("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.delivery_code,callback:function(t){e.$set(e.ruleForm,"delivery_code",t)},expression:"ruleForm.delivery_code"}},[r("template",{slot:"prepend"},[e._v("納品CD")])],2)],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{prop:"project_name"}},[r("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.project_name,callback:function(t){e.$set(e.ruleForm,"project_name",t)},expression:"ruleForm.project_name"}},[r("template",{slot:"prepend"},[e._v("案件名")])],2)],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{prop:"acceptance_code"}},[r("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.acceptance_code,callback:function(t){e.$set(e.ruleForm,"acceptance_code",t)},expression:"ruleForm.acceptance_code"}},[r("template",{slot:"prepend"},[e._v("検収CD")])],2)],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:24}},[r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("el-col",{attrs:{span:10}},[e._v("商品名/摘要")]),r("el-col",{attrs:{span:4}},[e._v("数量")]),r("el-col",{attrs:{span:10}},[e._v("備考")])],1),r("div",[r("el-row",{attrs:{gutter:0}},[r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{prop:"deliverables1"}},[r("el-input",{model:{value:e.ruleForm.deliverables1,callback:function(t){e.$set(e.ruleForm,"deliverables1",t)},expression:"ruleForm.deliverables1"}})],1)],1),r("el-col",{attrs:{span:4}},[r("el-form-item",{attrs:{prop:"quantity1"}},[r("el-input",{model:{value:e.ruleForm.quantity1,callback:function(t){e.$set(e.ruleForm,"quantity1",t)},expression:"ruleForm.quantity1"}})],1)],1),r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{prop:"memo1"}},[r("el-input",{model:{value:e.ruleForm.memo1,callback:function(t){e.$set(e.ruleForm,"memo1",t)},expression:"ruleForm.memo1"}})],1)],1),r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{prop:"deliverables2"}},[r("el-input",{model:{value:e.ruleForm.deliverables2,callback:function(t){e.$set(e.ruleForm,"deliverables2",t)},expression:"ruleForm.deliverables2"}})],1)],1),r("el-col",{attrs:{span:4}},[r("el-form-item",{attrs:{prop:"quantity2"}},[r("el-input",{model:{value:e.ruleForm.quantity2,callback:function(t){e.$set(e.ruleForm,"quantity2",t)},expression:"ruleForm.quantity2"}})],1)],1),r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{prop:"memo2"}},[r("el-input",{model:{value:e.ruleForm.memo2,callback:function(t){e.$set(e.ruleForm,"memo2",t)},expression:"ruleForm.memo2"}})],1)],1),r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{prop:"deliverables3"}},[r("el-input",{model:{value:e.ruleForm.deliverables3,callback:function(t){e.$set(e.ruleForm,"deliverables3",t)},expression:"ruleForm.deliverables3"}})],1)],1),r("el-col",{attrs:{span:4}},[r("el-form-item",{attrs:{prop:"quantity3"}},[r("el-input",{model:{value:e.ruleForm.quantity3,callback:function(t){e.$set(e.ruleForm,"quantity3",t)},expression:"ruleForm.quantity3"}})],1)],1),r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{prop:"memo3"}},[r("el-input",{model:{value:e.ruleForm.memo3,callback:function(t){e.$set(e.ruleForm,"memo3",t)},expression:"ruleForm.memo3"}})],1)],1)],1)],1)])],1)],1),r("br"),r("el-row",{attrs:{type:"flex",gutter:20,justify:"end"}},[r("el-col",{attrs:{span:2}},[r("p",[e._v("以上")])])],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:24}},[r("el-form-item",[r("el-button-group",[r("el-button",{attrs:{type:"warning",icon:"el-icon-document-delete",plain:""},on:{click:function(t){return e.cancelForm()}}},[e._v("閉じる")]),r("el-button",{attrs:{type:"primary",icon:"el-icon-document-checked",plain:""},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("登録・更新")])],1)],1)],1)],1)],1)},a=[],l=r("05e2"),s=r("0f88"),c=r("5c96"),n={name:"AcceptanceForm",props:{cAcceptanceForm:{type:Object,default:function(){return{project_name:"",project_code:"",customer_name:"",estimate_code:"",delivery_code:"",acceptance_code:"",method:""}}}},data:function(){return{ruleForm:{acceptance_code:this.cAcceptanceForm.acceptance_code,delivery_code:this.cAcceptanceForm.delivery_code,project_name:this.cAcceptanceForm.project_name,project_code:this.cAcceptanceForm.project_code,estimate_code:this.cAcceptanceForm.estimate_code,customer_name:this.cAcceptanceForm.customer_name,deliverables1:"",deliverables2:"",deliverables3:"",quantity1:"",quantity2:"",quantity3:"",memo1:"",memo2:"",memo3:"",remarks:""},rules:{customer_name:[{required:!0,message:"得意先名を入力してください",trigger:"change"}],CustomerAddress:[{required:!0,message:"得意先住所を入力してください",trigger:"blur"}],Work:[{required:!0,message:"作業内容を入力してください",trigger:"blur"}],WorkTime:[{required:!0,message:"作業期間を入力してください",trigger:"blur"}],PersonnelI:[{required:!0,message:"主任担当者(甲)を入力してください",trigger:"blur"}],PersonnelII:[{required:!0,message:"主任担当者(乙)を入力してください",trigger:"blur"}],Deliverables:[{required:!0,message:"成果物を入力してください",trigger:"blur"}],DeliverableSpace:[{required:!0,message:"納入場所を入力してください",trigger:"blur"}],Commission:[{required:!0,message:"委託料を入力してください",trigger:"blur"}],PaymentDate:[{required:!0,message:"支払期日を入力してください",trigger:"blur"}],AcceptanceConditions:[{required:!0,message:"検収条件を入力してください",trigger:"blur"}]}}},created:function(){"post"===this.cAcceptanceForm.method?this.getDeliveryDataOne():"put"===this.cAcceptanceForm.method&&this.getAcceptanceDataOne()},methods:{postAcceptanceData:function(){var e=this,t={};t["acceptance_code"]=this.ruleForm.acceptance_code,t["delivery_code"]=this.ruleForm.delivery_code,t["project_name"]=this.ruleForm.project_name,t["project_code"]=this.ruleForm.project_code,t["estimate_code"]=this.ruleForm.estimate_code,t["customer_name"]=this.ruleForm.customer_name,t["deliverables1"]=this.ruleForm.deliverables1,t["deliverables2"]=this.ruleForm.deliverables2,t["deliverables3"]=this.ruleForm.deliverables3,t["quantity1"]=this.ruleForm.quantity1,t["quantity2"]=this.ruleForm.quantity2,t["quantity3"]=this.ruleForm.quantity3,t["memo1"]=this.ruleForm.memo1,t["memo2"]=this.ruleForm.memo2,t["memo3"]=this.ruleForm.memo3,t["remarks"]=this.ruleForm.remarks,t["created_by"]=this.$store.getters.full_name,Object(s["c"])(t).then((function(t){1===t.data.status?(e.$emit("submit"),Object(c["Message"])({showClose:!0,message:t.data.message,type:"success"})):(e.$emit("cancel"),Object(c["Message"])({showClose:!0,message:t.data.message,type:"error"}))})).catch((function(e){console.log(e)}))},putAcceptanceData:function(){var e=this,t={};t["acceptance_code"]=this.ruleForm.acceptance_code,t["delivery_code"]=this.ruleForm.delivery_code,t["project_name"]=this.ruleForm.project_name,t["project_code"]=this.ruleForm.project_code,t["estimate_code"]=this.ruleForm.estimate_code,t["customer_name"]=this.ruleForm.customer_name,t["deliverables1"]=this.ruleForm.deliverables1,t["deliverables2"]=this.ruleForm.deliverables2,t["deliverables3"]=this.ruleForm.deliverables3,t["quantity1"]=this.ruleForm.quantity1,t["quantity2"]=this.ruleForm.quantity2,t["quantity3"]=this.ruleForm.quantity3,t["memo1"]=this.ruleForm.memo1,t["memo2"]=this.ruleForm.memo2,t["memo3"]=this.ruleForm.memo3,t["remarks"]=this.ruleForm.remarks,t["modified_by"]=this.$store.getters.full_name,Object(s["d"])(t).then((function(t){1===t.data.status?(e.$emit("submit"),Object(c["Message"])({showClose:!0,message:t.data.message,type:"success"})):(e.$emit("cancel"),Object(c["Message"])({showClose:!0,message:t.data.message,type:"error"}))})).catch((function(e){console.log(e)}))},getAcceptanceDataOne:function(){var e=this,t={};t["acceptance_code"]=this.cAcceptanceForm.acceptance_code,Object(s["b"])(t).then((function(t){e.ruleForm.acceptance_code=t.data.data[0].acceptance_code,e.ruleForm.delivery_code=t.data.data[0].delivery_code,e.ruleForm.project_name=t.data.data[0].project_name,e.ruleForm.project_code=t.data.data[0].project_code,e.ruleForm.estimate_code=t.data.data[0].estimate_code,e.ruleForm.customer_name=t.data.data[0].customer_name,e.ruleForm.deliverables1=t.data.data[0].deliverables1,e.ruleForm.deliverables2=t.data.data[0].deliverables2,e.ruleForm.deliverables3=t.data.data[0].deliverables3,e.ruleForm.quantity1=t.data.data[0].quantity1,e.ruleForm.quantity2=t.data.data[0].quantity2,e.ruleForm.quantity3=t.data.data[0].quantity3,e.ruleForm.memo1=t.data.data[0].memo1,e.ruleForm.memo2=t.data.data[0].memo2,e.ruleForm.memo3=t.data.data[0].memo3})).catch((function(e){console.log(e)}))},getDeliveryDataOne:function(){var e=this,t={};t["delivery_code"]=this.cAcceptanceForm.delivery_code,Object(l["b"])(t).then((function(t){e.ruleForm.deliverables1=t.data.data[0].deliverables1,e.ruleForm.deliverables2=t.data.data[0].deliverables2,e.ruleForm.deliverables3=t.data.data[0].deliverables3,e.ruleForm.quantity1=t.data.data[0].quantity1,e.ruleForm.quantity2=t.data.data[0].quantity2,e.ruleForm.quantity3=t.data.data[0].quantity2,e.ruleForm.memo1=t.data.data[0].memo1,e.ruleForm.memo2=t.data.data[0].memo2,e.ruleForm.memo3=t.data.data[0].memo3})).catch((function(e){console.log(e)}))},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;"put"===t.cAcceptanceForm.method?t.putAcceptanceData():t.postAcceptanceData()}))},cancelForm:function(){this.$emit("cancel")}}},i=n,m=r("2877"),u=Object(m["a"])(i,o,a,!1,null,"44e08cae",null);t["default"]=u.exports},7273:function(e,t,r){"use strict";r.d(t,"d",(function(){return a})),r.d(t,"e",(function(){return l})),r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return c})),r.d(t,"f",(function(){return n})),r.d(t,"c",(function(){return i}));var o=r("1bab");function a(e){return Object(o["a"])({url:"/project",method:"post",data:e})}function l(e){return Object(o["a"])({url:"/project",method:"put",data:e})}function s(){return Object(o["a"])({url:"/project",method:"get"})}function c(e){return Object(o["a"])({url:"/project/one/"+e.project_code,method:"get",data:e})}function n(e){return Object(o["a"])({url:"/SearchProjectData",method:"post",data:e})}function i(e){return Object(o["a"])({url:"/project/timeline/"+e.project_code,method:"get",data:e})}},"908d":function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("PageHeader",[r("template",{slot:"title"},[e._v("戻る")]),r("template",{slot:"content"},[e._v("案件詳細")])],2),[e._v("案件情報の登録及び編集する画面です。")],[e._v("この画面で当案件の見積・注文・納品・検収・請求処理することができます。")],r("el-divider"),r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{prop:"project_name"}},[r("el-input",{attrs:{placeholder:"案件名"},model:{value:e.ruleForm.project_name,callback:function(t){e.$set(e.ruleForm,"project_name",t)},expression:"ruleForm.project_name"}},[r("template",{slot:"prepend"},[e._v("案件名")])],2)],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",[r("el-input",{attrs:{placeholder:"案件コード",disabled:!0},model:{value:e.ruleForm.project_code,callback:function(t){e.$set(e.ruleForm,"project_code",t)},expression:"ruleForm.project_code"}},[r("template",{slot:"prepend"},[e._v("案件CD")])],2)],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{prop:"customer_name"}},[r("el-autocomplete",{staticStyle:{width:"100%"},attrs:{"popper-class":"my-autocomplete","fetch-suggestions":e.querySearch,placeholder:"得意先"},on:{select:e.handleSelect},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.item;return[r("div",{staticClass:"name"},[e._v(" "+e._s(o.value=o.customer_name)+" ("+e._s(o.key=o.personnel_name)+") ")])]}}]),model:{value:e.ruleForm.customer_name,callback:function(t){e.$set(e.ruleForm,"customer_name",t)},expression:"ruleForm.customer_name"}},[r("i",{staticClass:"el-icon-edit el-input__icon",attrs:{slot:"suffix"},on:{click:e.handleIconClick},slot:"suffix"}),r("template",{slot:"prepend"},[e._v("得意先")])],2)],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{prop:"personnel_name"}},[r("el-input",{attrs:{placeholder:"担当者"},model:{value:e.ruleForm.personnel_name,callback:function(t){e.$set(e.ruleForm,"personnel_name",t)},expression:"ruleForm.personnel_name"}},[r("template",{slot:"prepend"},[e._v("担当者")])],2)],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:16}},[r("el-form-item",{attrs:{prop:"synopsis"}},[r("el-input",{attrs:{placeholder:"案件詳細"},model:{value:e.ruleForm.synopsis,callback:function(t){e.$set(e.ruleForm,"synopsis",t)},expression:"ruleForm.synopsis"}},[r("template",{slot:"prepend"},[e._v("案件詳細")])],2)],1)],1)],1),r("el-row",{attrs:{type:"flex",gutter:20,justify:"start"}},[r("el-col",{attrs:{span:13}},[r("el-form-item",[r("el-button-group",[r("el-button",{attrs:{type:"primary",icon:"el-icon-document-checked",plain:""},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("登録・更新 ")]),r("el-button",{attrs:{type:"info",icon:"el-icon-document-add",plain:""},on:{click:function(t){return e.createButtontoEstimateFormDialog("ruleForm")}}},[e._v("見積作成 ")])],1)],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:24}},[r("ProjectTabTable",{attrs:{"c-table-data-estimate":e.tableDataEstimate,"c-table-data-order":e.tableDataOrder,"c-table-data-delivery":e.tableDataDelivery,"c-table-data-acceptance":e.tableDataAcceptance,"c-table-data-invoice":e.tableDataInvoice},on:{evEstimateForm:function(t){return e.projectTabTabletoEstimateFormDialog(arguments)},evOrderForm:function(t){return e.toOrderFormDialog(arguments)},evDeliveryForm:function(t){return e.toDeliveryFormDialog(arguments)},evAcceptanceForm:function(t){return e.toAcceptanceFormDialog(arguments)},evInvoiceForm:function(t){return e.toInvoicrFormDialog(arguments)}}})],1)],1)],1),r("div",[e.dialogEstimateFormVisible?r("el-dialog",{attrs:{title:"見積書データの登録・更新",visible:e.dialogEstimateFormVisible,top:"5%",width:"80%","close-on-click-modal":!1,"destroy-on-close":""},on:{"update:visible":function(t){e.dialogEstimateFormVisible=t}}},[r("EstimateForm",{attrs:{"c-estimate-form":e.toEstimateForm},on:{cancel:e.closeDialog,submit:e.reloadList}})],1):e._e(),e.dialogOrderFormVisible?r("el-dialog",{attrs:{title:"注文書データの登録・更新",visible:e.dialogOrderFormVisible,top:"5%",width:"80%","close-on-click-modal":!1,"destroy-on-close":""},on:{"update:visible":function(t){e.dialogOrderFormVisible=t}}},[r("OrderForm",{attrs:{"c-order-form":e.toOrderForm},on:{cancel:e.closeDialog,submit:e.reloadList}})],1):e._e(),e.dialogDeliveryFormVisible?r("el-dialog",{attrs:{title:"納品書データの登録・更新",visible:e.dialogDeliveryFormVisible,top:"5%",width:"80%","close-on-click-modal":!1,"destroy-on-close":""},on:{"update:visible":function(t){e.dialogDeliveryFormVisible=t}}},[r("DeliveryForm",{attrs:{"c-delivery-form":e.toDeliveryForm},on:{cancel:e.closeDialog,submit:e.reloadList}})],1):e._e(),e.dialogAcceptanceFormVisible?r("el-dialog",{attrs:{title:"検収書データの登録・更新",visible:e.dialogAcceptanceFormVisible,top:"5%",width:"80%","close-on-click-modal":!1,"destroy-on-close":""},on:{"update:visible":function(t){e.dialogAcceptanceFormVisible=t}}},[r("AcceptanceForm",{attrs:{"c-acceptance-form":e.toAcceptanceForm},on:{cancel:e.closeDialog,submit:e.reloadList}})],1):e._e(),e.dialogInvoiceFormVisible?r("el-dialog",{attrs:{title:"請求書データの登録・更新",visible:e.dialogInvoiceFormVisible,top:"5%",width:"80%","close-on-click-modal":!1,"destroy-on-close":""},on:{"update:visible":function(t){e.dialogInvoiceFormVisible=t}}},[r("InvoiceForm",{attrs:{"c-invoice-form":e.toInvoiceForm},on:{cancel:e.closeDialog,submit:e.reloadList}})],1):e._e()],1)],2)},a=[],l=(r("d3b7"),r("25f0"),r("fb6a"),r("4de4"),r("9671")),s=r("67b1"),c=r("7273"),n=r("f8b7"),i=r("05e2"),m=r("0f88"),u=r("06c7"),d=r("6209"),p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[r("el-tab-pane",{attrs:{label:"見積書",name:"first"}},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.cTableDataEstimate}},[r("template",{slot:"empty"},[r("p",[e._v("見積データがありません")])]),r("el-table-column",{attrs:{label:"見積CD",width:"210%"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("a",{staticClass:"rowTxt",on:{click:function(r){return e.handleEditEstimate(t.$index,t.row)}}},[e._v(e._s(t.row.estimate_code))])]}}])}),r("el-table-column",{attrs:{label:"成果物①",width:"100%"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.deliverables1))])]}}])}),r("el-table-column",{attrs:{label:"成果物②",width:"100%"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.deliverables2))])]}}])}),r("el-table-column",{attrs:{label:"成果物③",width:"100%"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.deliverables3))])]}}])}),r("el-table-column",{attrs:{label:"作業場所",width:"200%"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.work_space))])]}}])}),r("el-table-column",{attrs:{label:"税込金額",align:"right",width:"150%"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-popover",{attrs:{trigger:"hover",placement:"top"}},[r("p",[e._v("税抜金額: "+e._s(t.row.sub_total))]),r("p",[e._v("税金: "+e._s(t.row.tax))]),r("p",[e._v("税込金額: "+e._s(t.row.total))]),r("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[r("el-tag",{attrs:{size:"medium",effect:"plain"}},[e._v(e._s(t.row.total))])],1)])]}}])}),r("el-table-column",{attrs:{label:"補足",width:"200%"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.supplement))])]}}])}),r("el-table-column",{attrs:{label:"備考",width:"200%"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.remarks))])]}}])}),r("el-table-column",{attrs:{label:"見積書No."},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.estimate_pdf_num))])]}}])}),r("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini"},on:{click:function(r){return e.toOrderForm(t.$index,t.row)}}},[e._v("注文 ")]),r("el-button",{attrs:{size:"mini"},on:{click:function(r){return e.estimatePdfDownload(t.$index,t.row)}}},[r("a-icon",{attrs:{type:"file-pdf"}})],1)]}}])})],2)],1),r("el-tab-pane",{attrs:{label:"注文書",name:"second"}},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.cTableDataOrder}},[r("template",{slot:"empty"},[r("p",[e._v("受注データがありません")])]),r("el-table-column",{attrs:{label:"注文CD",width:"210%"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("a",{staticClass:"rowTxt",on:{click:function(r){return e.handleEditOrder(t.$index,t.row)}}},[e._v(e._s(t.row.order_code))])]}}])}),r("el-table-column",{attrs:{label:"作業内容",width:"200%"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.work))])]}}])}),r("el-table-column",{attrs:{label:"納入物",width:"200%"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.deliverables))])]}}])}),r("el-table-column",{attrs:{label:"納入場所",width:"150%"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.deliverable_space))])]}}])}),r("el-table-column",{attrs:{label:"委託料",width:"200%"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.commission))])]}}])}),r("el-table-column",{attrs:{label:"その他",width:"200%"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.other))])]}}])}),r("el-table-column",{attrs:{label:"注文請書No."},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.order_pdf_num))])]}}])}),r("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini"},on:{click:function(r){return e.toDeliveryForm(t.$index,t.row)}}},[e._v("納品 ")]),r("el-button",{attrs:{size:"mini"},on:{click:function(r){return e.orderPdfDownload(t.$index,t.row)}}},[r("a-icon",{attrs:{type:"file-pdf"}})],1)]}}])})],2)],1),r("el-tab-pane",{attrs:{label:"納品書",name:"third"}},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.cTableDataDelivery}},[r("template",{slot:"empty"},[r("p",[e._v("納品データがありません")])]),r("el-table-column",{attrs:{label:"納品CD",width:"210%"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("a",{staticClass:"rowTxt",on:{click:function(r){return e.handleEditDelivery(t.$index,t.row)}}},[e._v(e._s(t.row.delivery_code))])]}}])}),r("el-table-column",{attrs:{label:"納入物1",width:"200%"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.deliverables1))])]}}])}),r("el-table-column",{attrs:{label:"納入物2",width:"200%"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.deliverables2))])]}}])}),r("el-table-column",{attrs:{label:"納入物3",width:"150%"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.deliverables3))])]}}])}),r("el-table-column",{attrs:{label:"※注",width:"200%"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.remarks))])]}}])}),r("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini"},on:{click:function(r){return e.toAcceptanceForm(t.$index,t.row)}}},[e._v("検収 ")]),r("el-button",{attrs:{size:"mini"},on:{click:function(r){return e.deliveryPdfDownload(t.$index,t.row)}}},[r("a-icon",{attrs:{type:"file-pdf"}})],1)]}}])})],2)],1),r("el-tab-pane",{attrs:{label:"検収書",name:"fourth"}},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.cTableDataAcceptance}},[r("template",{slot:"empty"},[r("p",[e._v("検収データがありません")])]),r("el-table-column",{attrs:{label:"検収CD",width:"210%"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("a",{staticClass:"rowTxt",on:{click:function(r){return e.handleEditAcceptance(t.$index,t.row)}}},[e._v(e._s(t.row.acceptance_code))])]}}])}),r("el-table-column",{attrs:{label:"納入物1",width:"200%"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.deliverables1))])]}}])}),r("el-table-column",{attrs:{label:"納入物2",width:"200%"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.deliverables2))])]}}])}),r("el-table-column",{attrs:{label:"納入物3",width:"150%"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.deliverables3))])]}}])}),r("el-table-column",{attrs:{label:"※注",width:"200%"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.remarks))])]}}])}),r("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini"},on:{click:function(r){return e.toInvoiceForm(t.$index,t.row)}}},[e._v("請求 ")]),r("el-button",{attrs:{size:"mini"},on:{click:function(r){return e.acceptancePdfDownload(t.$index,t.row)}}},[r("a-icon",{attrs:{type:"file-pdf"}})],1)]}}])})],2)],1),r("el-tab-pane",{attrs:{label:"請求書",name:"five"}},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.cTableDataInvoice}},[r("template",{slot:"empty"},[r("p",[e._v("請求データがありません")])]),r("el-table-column",{attrs:{label:"請求CD",width:"210%"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("a",{staticClass:"rowTxt",on:{click:function(r){return e.handleEditInvoice(t.$index,t.row)}}},[e._v(e._s(t.row.invoice_code))])]}}])}),r("el-table-column",{attrs:{label:"お客様名",width:"200%"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.customer_name))])]}}])}),r("el-table-column",{attrs:{label:"業務件名",width:"200%"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.project_name))])]}}])}),r("el-table-column",{attrs:{label:"税込金額",align:"right",width:"150%"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-popover",{attrs:{trigger:"hover",placement:"top"}},[r("p",[e._v("税抜金額: "+e._s(t.row.sub_total))]),r("p",[e._v("税金: "+e._s(t.row.tax))]),r("p",[e._v("税込金額: "+e._s(t.row.total))]),r("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[r("el-tag",{attrs:{size:"medium",effect:"plain"}},[e._v(e._s(t.row.total))])],1)])]}}])}),r("el-table-column",{attrs:{label:"請求日",width:"200%"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.invoice_date))])]}}])}),r("el-table-column",{attrs:{label:"※注",width:"200%"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.note))])]}}])}),r("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini"},on:{click:function(r){return e.toInvoiceForm(t.$index,t.row)}}},[e._v("入金済 ")]),r("el-button",{attrs:{size:"mini"},on:{click:function(r){return e.invoicePdfDownload(t.$index,t.row)}}},[r("a-icon",{attrs:{type:"file-pdf"}})],1)]}}])})],2)],1)],1)},_=[],f=r("5c96"),b={name:"ProjectTabTable",props:{cTableDataEstimate:{type:Array,default:function(){return[]}},cTableDataOrder:{type:Array,default:function(){return[]}},cTableDataDelivery:{type:Array,default:function(){return[]}},cTableDataAcceptance:{type:Array,default:function(){return[]}},cTableDataInvoice:{type:Array,default:function(){return[]}}},data:function(){return{activeName:""}},created:function(){var e=this.$route.query.activeName;this.activeName=e||"first"},methods:{handleEditEstimate:function(e,t){this.$emit("evEstimateForm",{estimate_code:t.estimate_code})},toOrderForm:function(e,t){this.activeName="second",this.$emit("evOrderForm",{estimate_code:t.estimate_code,estimate_name:t.estimate_name})},handleEditOrder:function(e,t){this.$emit("evOrderForm",{order_code:t.order_code,estimate_code:t.estimate_code,estimate_name:t.estimate_name})},toDeliveryForm:function(e,t){this.activeName="third",this.$emit("evDeliveryForm",{estimate_code:t.estimate_code})},handleEditDelivery:function(e,t){this.$emit("evDeliveryForm",{delivery_code:t.delivery_code,estimate_code:t.estimate_code})},toAcceptanceForm:function(e,t){this.activeName="fourth",this.$emit("evAcceptanceForm",{delivery_code:t.delivery_code,estimate_code:t.estimate_code})},handleEditAcceptance:function(e,t){this.$emit("evAcceptanceForm",{acceptance_code:t.acceptance_code,estimate_code:t.estimate_code})},toInvoiceForm:function(e,t){this.activeName="five",this.$emit("evInvoiceForm",{delivery_code:t.delivery_code,estimate_code:t.estimate_code})},handleEditInvoice:function(e,t){this.$emit("evInvoiceForm",{invoice_code:t.invoice_code,estimate_code:t.estimate_code})},estimatePdfDownload:function(e,t){var r={};r["estimate_code"]=t.estimate_code,Object(s["f"])(r).then((function(e){1===e.data.status?(console.log(e),window.open("/v1/estimate/download/"+e.data.filename)):Object(f["Message"])({showClose:!0,message:e.data.message,type:"error"})})).catch((function(e){console.log(e)}))},orderPdfDownload:function(e,t){var r={};r["order_code"]=t.order_code,Object(n["c"])(r).then((function(e){1===e.data.status?(console.log(e),window.open("/v1/order/download/"+e.data.filename)):Object(f["Message"])({showClose:!0,message:e.data.message,type:"error"})})).catch((function(e){console.log(e)}))},handleClick:function(e,t){console.log(e,t)}}},F=b,v=r("2877"),h=Object(v["a"])(F,p,_,!1,null,"39d84772",null),g=h.exports,y=r("23de"),j=r("6570"),w=r("35a8"),k=r("6fee"),D=r("656e"),O={name:"ProjectForm",components:{PageHeader:d["a"],ProjectTabTable:g,EstimateForm:y["default"],OrderForm:j["default"],DeliveryForm:w["default"],AcceptanceForm:k["default"],InvoiceForm:D["default"]},data:function(){return{dialogEstimateFormVisible:!1,dialogOrderFormVisible:!1,dialogDeliveryFormVisible:!1,dialogAcceptanceFormVisible:!1,dialogInvoiceFormVisible:!1,restaurants:[],Customers:[],ruleForm:{project_code:"",project_name:"",customer_name:"",customer_code:"",personnel_name:"",synopsis:""},tableDataEstimate:[{}],tableDataOrder:[{}],tableDataDelivery:[{}],tableDataAcceptance:[{}],tableDataInvoice:[{}],toEstimateForm:{},toOrderForm:{},toDeliveryForm:{},toAcceptanceForm:{},toInvoiceForm:{},rules:{project_name:[{required:!0,message:"案件名を入力してください",trigger:"blur"}],customer_name:[{required:!0,message:"得意先を選びまたは入力してください",trigger:"change"}],synopsis:[{required:!0,message:"案件詳細を入力してください",trigger:"blur"}]}}},created:function(){this.getCustomerDataAll(),this.getEstimateDataAll(),this.getOrderDataAll(),this.getDeliveryDataAll(),this.getAcceptanceDataAll(),this.getInvoiceDataAll(),this.$route.query.project_code?this.getProjectDataOne():this.ruleForm.project_code=this.newProjectcode("Prj")},computed:{newDateTime:function(){var e=new Date,t=e.getFullYear(),r=e.getMonth()+1,o=e.getDate(),a=e.getHours(),l=e.getMinutes();r>=1&&r<=9&&(r="0"+r),o>=0&&o<=9&&(o="0"+o);var s=t+"-"+r+"-"+o+" "+a+":"+l;return s}},methods:{newProjectcode:function(e){var t=new Date,r=t.getFullYear(),o=t.getMonth()+1,a=t.getDate(),l=t.getHours(),s=t.getMinutes(),c=t.getSeconds();o>=1&&o<=9&&(o="0"+o),a>=1&&a<=9&&(a="0"+a),l>=0&&l<=9&&(l="0"+l),s>=0&&s<=9&&(s="0"+s),c>=0&&c<=9&&(c="0"+c),console.log("year:%s month:%s data:%s hours:%s minute:%s seconds:%s",r,o,a,l,s,c);var n=r.toString()+o.toString()+a.toString()+l.toString()+s.toString()+c.toString(),i=e+n.slice(2);return i},getCustomerDataAll:function(){var e=this;Object(l["a"])().then((function(t){e.Customers=t.data.data})).catch((function(e){console.log(e)}))},getProjectDataOne:function(){var e=this,t={};t["project_code"]=this.$route.query.project_code,Object(c["b"])(t).then((function(t){e.ruleForm.project_code=t.data.data[0].project_code,e.ruleForm.project_name=t.data.data[0].project_name,e.ruleForm.customer_name=t.data.data[0].customer_name,e.ruleForm.personnel_name=t.data.data[0].personnel_name,e.ruleForm.synopsis=t.data.data[0].synopsis,e.ruleForm.customer_code=t.data.data[0].customer_code})).catch((function(e){console.log(e)}))},getEstimateDataAll:function(){var e=this,t={};t["project_code"]=this.$route.query.project_code,Object(s["b"])(t).then((function(t){e.tableDataEstimate=t.data.data})).catch((function(e){console.log(e)}))},getOrderDataAll:function(){var e=this,t={};t["project_code"]=this.$route.query.project_code,Object(n["a"])(t).then((function(t){e.tableDataOrder=t.data.data})).catch((function(e){console.log(e)}))},getDeliveryDataAll:function(){var e=this,t={};t["project_code"]=this.$route.query.project_code,Object(i["a"])(t).then((function(t){e.tableDataDelivery=t.data.data})).catch((function(e){console.log(e)}))},getAcceptanceDataAll:function(){var e=this,t={};t["project_code"]=this.$route.query.project_code,Object(m["a"])(t).then((function(t){e.tableDataAcceptance=t.data.data})).catch((function(e){console.log(e)}))},getInvoiceDataAll:function(){var e=this,t={};t["project_code"]=this.$route.query.project_code,Object(u["a"])(t).then((function(t){e.tableDataInvoice=t.data.data})).catch((function(e){console.log(e)}))},postProjectData:function(){var e={};e["project_code"]=this.ruleForm.project_code,e["project_name"]=this.ruleForm.project_name,e["customer_name"]=this.ruleForm.customer_name,e["customer_code"]=this.ruleForm.customer_code,e["personnel_name"]=this.ruleForm.personnel_name,e["synopsis"]=this.ruleForm.synopsis,e["created_by"]=this.$store.getters.full_name,Object(c["d"])(e).then((function(e){console.log(e),1==e.data.status?Object(f["Message"])({showClose:!0,message:e.data.message,type:"success"}):Object(f["Message"])({showClose:!0,message:e.data.message,type:"error"})})).catch((function(e){console.log(e)}))},putProjectData:function(){var e={};e["project_code"]=this.ruleForm.project_code,e["project_name"]=this.ruleForm.project_name,e["customer_name"]=this.ruleForm.customer_name,e["customer_code"]=this.ruleForm.customer_code,e["personnel_name"]=this.ruleForm.personnel_name,e["synopsis"]=this.ruleForm.synopsis,e["modified_by"]=this.$store.getters.full_name,Object(c["e"])(e).then((function(e){console.log(e),1==e.data.status?Object(f["Message"])({showClose:!0,message:e.data.message,type:"success"}):Object(f["Message"])({showClose:!0,message:e.data.message,type:"error"})})).catch((function(e){console.log(e)}))},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.$route.query.project_code?t.putProjectData():t.postProjectData()}))},deleteForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;alert("submit!"),t.postProjectData(1)})),this.$router.push({path:"ProjectList"})},projectTabTabletoEstimateFormDialog:function(e){this.dialogEstimateFormVisible=!0,this.toEstimateForm={project_code:this.ruleForm.project_code,project_name:this.ruleForm.project_name,customer_name:this.ruleForm.customer_name,customer_code:this.ruleForm.customer_code,estimate_code:e[0].estimate_code,method:"put"}},createButtontoEstimateFormDialog:function(e){var t=this;this.$refs[e].validate((function(e){e&&(t.$route.query.project_code||t.postProjectData(),t.dialogEstimateFormVisible=!0,t.toEstimateForm={project_code:t.ruleForm.project_code,project_name:t.ruleForm.project_name,customer_name:t.ruleForm.customer_name,customer_code:t.ruleForm.customer_code,estimate_code:t.newProjectcode("Esh"),estimate_name:t.ruleForm.project_name,method:"post"})}))},toOrderFormDialog:function(e){this.dialogOrderFormVisible=!0,e[0].order_code?this.toOrderForm={project_code:this.ruleForm.project_code,project_name:this.ruleForm.project_name,customer_name:this.ruleForm.customer_name,customer_code:this.ruleForm.customer_code,estimate_code:e[0].estimate_code,estimate_name:e[0].estimate_name,order_code:e[0].order_code,method:"put"}:this.toOrderForm={project_code:this.ruleForm.project_code,project_name:this.ruleForm.project_name,customer_name:this.ruleForm.customer_name,customer_code:this.ruleForm.customer_code,estimate_code:e[0].estimate_code,estimate_name:e[0].estimate_name,order_code:this.newProjectcode("Ord"),method:"post"},console.log(e)},toDeliveryFormDialog:function(e){this.dialogDeliveryFormVisible=!0,e[0].delivery_code?this.toDeliveryForm={project_code:this.ruleForm.project_code,project_name:this.ruleForm.project_name,customer_name:this.ruleForm.customer_name,customer_code:this.ruleForm.customer_code,estimate_code:e[0].estimate_code,delivery_code:e[0].delivery_code,method:"put"}:this.toDeliveryForm={project_code:this.ruleForm.project_code,project_name:this.ruleForm.project_name,customer_name:this.ruleForm.customer_name,customer_code:this.ruleForm.customer_code,estimate_code:e[0].estimate_code,delivery_code:this.newProjectcode("Del"),method:"post"}},toAcceptanceFormDialog:function(e){this.dialogAcceptanceFormVisible=!0,e[0].acceptance_code?this.toAcceptanceForm={project_code:this.ruleForm.project_code,project_name:this.ruleForm.project_name,customer_name:this.ruleForm.customer_name,customer_code:this.ruleForm.customer_code,estimate_code:e[0].estimate_code,acceptance_code:e[0].acceptance_code,method:"put"}:this.toAcceptanceForm={project_code:this.ruleForm.project_code,project_name:this.ruleForm.project_name,customer_name:this.ruleForm.customer_name,customer_code:this.ruleForm.customer_code,estimate_code:e[0].estimate_code,delivery_code:e[0].delivery_code,acceptance_code:this.newProjectcode("Acc"),method:"post"}},toInvoicrFormDialog:function(e){this.dialogInvoiceFormVisible=!0,e[0].invoice_code?this.toInvoiceForm={project_code:this.ruleForm.project_code,project_name:this.ruleForm.project_name,customer_name:this.ruleForm.customer_name,customer_code:this.ruleForm.customer_code,estimate_code:e[0].estimate_code,invoice_code:e[0].invoice_code,method:"put"}:this.toInvoiceForm={project_code:this.ruleForm.project_code,project_name:this.ruleForm.project_name,customer_name:this.ruleForm.customer_name,customer_code:this.ruleForm.customer_code,estimate_code:e[0].estimate_code,delivery_code:e[0].delivery_code,invoice_code:this.newProjectcode("Inv"),method:"post"}},closeDialog:function(){this.dialogEstimateFormVisible=!1,this.dialogOrderFormVisible=!1,this.dialogDeliveryFormVisible=!1,this.dialogAcceptanceFormVisible=!1,this.dialogInvoiceFormVisible=!1},reloadList:function(){this.dialogEstimateFormVisible=!1,this.dialogOrderFormVisible=!1,this.dialogDeliveryFormVisible=!1,this.dialogAcceptanceFormVisible=!1,this.dialogInvoiceFormVisible=!1,this.getEstimateDataAll(),this.getOrderDataAll(),this.getDeliveryDataAll(),this.getAcceptanceDataAll(),this.getInvoiceDataAll()},evEstimateForm:function(e){this.dialogEstimateFormVisible=!0,console.log(e[0].uuidEstimate)},evOrderForm:function(e){this.dialogOrderFormVisible=!0,console.log(e[0].estimate_code)},querySearch:function(e,t){var r=this.Customers,o=e?r.filter(this.createFilter(e)):r;t(o)},createFilter:function(e){return function(t){return 0===t.customer_name.toLowerCase().indexOf(e.toLowerCase())}},handleSelect:function(e){this.ruleForm.customer_code=e.customer_code,this.ruleForm.personnel_name=e.personnel_name},handleIconClick:function(e){console.log(e)}}},q=O,$=Object(v["a"])(q,o,a,!1,null,"31042e50",null);t["default"]=$.exports},9671:function(e,t,r){"use strict";r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return l})),r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return c})),r.d(t,"e",(function(){return n}));var o=r("1bab");function a(e){return Object(o["a"])({url:"/customer",method:"post",data:e})}function l(e){return Object(o["a"])({url:"/customer",method:"put",data:e})}function s(e){return Object(o["a"])({url:"/customer",method:"get",data:e})}function c(e){return Object(o["a"])({url:"/customer/"+e.customer_code,method:"get",data:e})}function n(e){return Object(o["a"])({url:"/SearchCustomerData",method:"post",data:e})}},b0cc:function(e,t,r){"use strict";r("baba")},baba:function(e,t,r){},f8b7:function(e,t,r){"use strict";r.d(t,"d",(function(){return a})),r.d(t,"e",(function(){return l})),r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return n}));var o=r("1bab");function a(e){return Object(o["a"])({url:"/order",method:"post",data:e})}function l(e){return Object(o["a"])({url:"/order",method:"put",data:e})}function s(e){return Object(o["a"])({url:"/order/all/"+e.project_code,method:"get",data:e})}function c(e){return Object(o["a"])({url:"/order/one/"+e.order_code,method:"get",data:e})}function n(e){return Object(o["a"])({url:"/order/pdf/"+e.order_code,method:"get",data:e})}}}]);
//# sourceMappingURL=chunk-30325fc4.f3759dad.js.map