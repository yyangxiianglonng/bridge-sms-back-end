(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-81c0bf04"],{6570:function(e,r,t){"use strict";t.r(r);var o=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules}},[t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{prop:"project_name"}},[t("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.project_name,callback:function(r){e.$set(e.ruleForm,"project_name",r)},expression:"ruleForm.project_name"}},[t("template",{slot:"prepend"},[e._v("案件名")])],2)],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{prop:"project_code"}},[t("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.project_code,callback:function(r){e.$set(e.ruleForm,"project_code",r)},expression:"ruleForm.project_code"}},[t("template",{slot:"prepend"},[e._v("案件CD")])],2)],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{prop:"estimate_code"}},[t("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.estimate_code,callback:function(r){e.$set(e.ruleForm,"estimate_code",r)},expression:"ruleForm.estimate_code"}},[t("template",{slot:"prepend"},[e._v("見積CD")])],2)],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{prop:"order_code"}},[t("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.order_code,callback:function(r){e.$set(e.ruleForm,"order_code",r)},expression:"ruleForm.order_code"}},[t("template",{slot:"prepend"},[e._v("注文CD")])],2)],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{prop:"estimate_name"}},[t("el-input",{model:{value:e.ruleForm.estimate_name,callback:function(r){e.$set(e.ruleForm,"estimate_name",r)},expression:"ruleForm.estimate_name"}},[t("template",{slot:"prepend"},[e._v("件名（業務名）")])],2)],1)],1),t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{prop:"estimate_of_order"}},[t("el-input",{model:{value:e.ruleForm.estimate_of_order,callback:function(r){e.$set(e.ruleForm,"estimate_of_order",r)},expression:"ruleForm.estimate_of_order"}},[t("template",{slot:"prepend"},[e._v("標題の件につき")])],2)],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{prop:"customer_name"}},[t("el-input",{model:{value:e.ruleForm.customer_name,callback:function(r){e.$set(e.ruleForm,"customer_name",r)},expression:"ruleForm.customer_name"}},[t("template",{slot:"prepend"},[e._v("得意先名")])],2)],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{prop:"customer_address"}},[t("el-input",{model:{value:e.ruleForm.customer_address,callback:function(r){e.$set(e.ruleForm,"customer_address",r)},expression:"ruleForm.customer_address"}},[t("template",{slot:"prepend"},[e._v("得意先住所")])],2)],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{prop:"work"}},[t("div",[e._v("作業内容")]),t("el-input",{attrs:{type:"textarea",autosize:""},model:{value:e.ruleForm.work,callback:function(r){e.$set(e.ruleForm,"work",r)},expression:"ruleForm.work"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{prop:"personnel1"}},[t("div",[e._v("主任担当者")]),t("el-input",{attrs:{type:"textarea",rows:2},model:{value:e.ruleForm.personnel1,callback:function(r){e.$set(e.ruleForm,"personnel1",r)},expression:"ruleForm.personnel1"}})],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{prop:"work_time"}},[t("el-input",{model:{value:e.ruleForm.work_time,callback:function(r){e.$set(e.ruleForm,"work_time",r)},expression:"ruleForm.work_time"}},[t("template",{slot:"prepend"},[e._v("作業期間/納期")])],2)],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{prop:"deliverables"}},[t("el-input",{model:{value:e.ruleForm.deliverables,callback:function(r){e.$set(e.ruleForm,"deliverables",r)},expression:"ruleForm.deliverables"}},[t("template",{slot:"prepend"},[e._v("納入物")])],2)],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{prop:"commission"}},[t("el-input",{model:{value:e.ruleForm.commission,callback:function(r){e.$set(e.ruleForm,"commission",r)},expression:"ruleForm.commission"}},[t("template",{slot:"prepend"},[e._v("委託料")])],2)],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{prop:"deliverable_space"}},[t("el-input",{model:{value:e.ruleForm.deliverable_space,callback:function(r){e.$set(e.ruleForm,"deliverable_space",r)},expression:"ruleForm.deliverable_space"}},[t("template",{slot:"prepend"},[e._v("納入場所")])],2)],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{prop:"payment_date"}},[t("el-input",{model:{value:e.ruleForm.payment_date,callback:function(r){e.$set(e.ruleForm,"payment_date",r)},expression:"ruleForm.payment_date"}},[t("template",{slot:"prepend"},[e._v("支払期日")])],2)],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{prop:"other"}},[t("el-input",{model:{value:e.ruleForm.other,callback:function(r){e.$set(e.ruleForm,"other",r)},expression:"ruleForm.other"}},[t("template",{slot:"prepend"},[e._v("その他")])],2)],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{prop:"acceptance_conditions"}},[t("el-input",{model:{value:e.ruleForm.acceptance_conditions,callback:function(r){e.$set(e.ruleForm,"acceptance_conditions",r)},expression:"ruleForm.acceptance_conditions"}},[t("template",{slot:"prepend"},[e._v("検収条件")])],2)],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{label:"",prop:"note"}},[t("div",[e._v("※(注)")]),t("el-input",{attrs:{type:"textarea",rows:2},model:{value:e.ruleForm.note,callback:function(r){e.$set(e.ruleForm,"note",r)},expression:"ruleForm.note"}})],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:24}},[t("el-form-item",[t("el-button-group",[t("el-button",{attrs:{type:"warning",icon:"el-icon-document-delete",plain:""},on:{click:function(r){return e.cancelForm()}}},[e._v("閉じる")]),t("el-button",{attrs:{type:"primary",icon:"el-icon-document-checked",plain:""},on:{click:function(r){return e.submitForm("ruleForm")}}},[e._v("登録・更新")])],1)],1)],1)],1)],1)},a=[],s=t("f8b7"),l=t("9671"),m=t("5c96"),n={name:"OrderForm",components:{},props:{cOrderForm:{type:Object,default:function(){return{project_name:"",project_code:"",customer_name:"",estimate_code:"",estimate_name:"",order_code:"",method:""}}}},data:function(){return{ruleForm:{order_code:this.cOrderForm.order_code,project_name:this.cOrderForm.project_name,project_code:this.cOrderForm.project_code,estimate_code:this.cOrderForm.estimate_code,estimate_name:this.cOrderForm.estimate_name,customer_name:this.cOrderForm.customer_name,estimate_of_order:"",customer_address:"",work:"",work_time:"",personnel1:"",personnel2:"",deliverables:"",deliverable_space:"",commission:"",payment_date:"",acceptance_conditions:"",other:"",note:""},rules:{customer_name:[{required:!0,message:"得意先名を入力してください",trigger:"change"}],customer_address:[{required:!0,message:"得意先住所を入力してください",trigger:"blur"}],work:[{required:!0,message:"作業内容を入力してください",trigger:"blur"}],work_time:[{required:!0,message:"作業期間を入力してください",trigger:"blur"}],personnel1:[{required:!0,message:"主任担当者を入力してください",trigger:"blur"}],personnel2:[{required:!0,message:"主任担当者(乙)を入力してください",trigger:"blur"}],deliverables:[{required:!0,message:"成果物を入力してください",trigger:"blur"}],deliverable_space:[{required:!0,message:"納入場所を入力してください",trigger:"blur"}],commission:[{required:!0,message:"委託料を入力してください",trigger:"blur"}],payment_date:[{required:!0,message:"支払期日を入力してください",trigger:"blur"}],acceptance_conditions:[{required:!0,message:"検収条件を入力してください",trigger:"blur"}]}}},created:function(){"put"===this.cOrderForm.method&&this.getOrderDataOne(),this.getCustomerDataOne()},methods:{postOrderData:function(){var e=this,r={};r["order_code"]=this.ruleForm.order_code,r["project_name"]=this.ruleForm.project_name,r["project_code"]=this.ruleForm.project_code,r["estimate_code"]=this.ruleForm.estimate_code,r["estimate_name"]=this.ruleForm.estimate_name,r["estimate_of_order"]=this.ruleForm.estimate_of_order,r["customer_name"]=this.ruleForm.customer_name,r["customer_address"]=this.ruleForm.customer_address,r["work"]=this.ruleForm.work,r["work_time"]=this.ruleForm.work_time,r["personnel1"]=this.ruleForm.personnel1,r["personnel2"]=this.ruleForm.personnel2,r["deliverables"]=this.ruleForm.deliverables,r["deliverable_space"]=this.ruleForm.deliverable_space,r["commission"]=this.ruleForm.commission,r["payment_date"]=this.ruleForm.payment_date,r["acceptance_conditions"]=this.ruleForm.acceptance_conditions,r["other"]=this.ruleForm.other,r["note"]=this.ruleForm.note,r["created_by"]=this.$store.getters.full_name,Object(s["d"])(r).then((function(r){1===r.data.status?(e.$emit("submit"),Object(m["Message"])({showClose:!0,message:r.data.message,type:"success"})):(e.$emit("cancel"),Object(m["Message"])({showClose:!0,message:r.data.message,type:"error"}))})).catch((function(e){console.log(e)}))},putOrderData:function(){var e=this,r={};r["order_code"]=this.ruleForm.order_code,r["project_name"]=this.ruleForm.project_name,r["project_code"]=this.ruleForm.project_code,r["estimate_code"]=this.ruleForm.estimate_code,r["estimate_name"]=this.ruleForm.estimate_name,r["estimate_of_order"]=this.ruleForm.estimate_of_order,r["customer_name"]=this.ruleForm.customer_name,r["customer_address"]=this.ruleForm.customer_address,r["work"]=this.ruleForm.work,r["work_time"]=this.ruleForm.work_time,r["personnel1"]=this.ruleForm.personnel1,r["personnel2"]=this.ruleForm.personnel2,r["deliverables"]=this.ruleForm.deliverables,r["deliverable_space"]=this.ruleForm.deliverable_space,r["commission"]=this.ruleForm.commission,r["payment_date"]=this.ruleForm.payment_date,r["acceptance_conditions"]=this.ruleForm.acceptance_conditions,r["other"]=this.ruleForm.other,r["note"]=this.ruleForm.note,r["modified_by"]=this.$store.getters.full_name,Object(s["e"])(r).then((function(r){1===r.data.status?(e.$emit("submit"),Object(m["Message"])({showClose:!0,message:r.data.message,type:"success"})):(e.$emit("cancel"),Object(m["Message"])({showClose:!0,message:r.data.message,type:"error"}))})).catch((function(e){console.log(e)}))},getOrderDataOne:function(){var e=this,r={};r["order_code"]=this.cOrderForm.order_code,Object(s["b"])(r).then((function(r){e.ruleForm.order_code=e.cOrderForm.order_code,e.ruleForm.project_name=r.data.data[0].project_name,e.ruleForm.project_code=r.data.data[0].project_code,e.ruleForm.estimate_code=r.data.data[0].estimate_code,e.ruleForm.estimate_name=r.data.data[0].estimate_name,e.ruleForm.estimate_of_order=r.data.data[0].estimate_of_order,e.ruleForm.customer_name=r.data.data[0].customer_name,e.ruleForm.customer_address=r.data.data[0].customer_address,e.ruleForm.work=r.data.data[0].work,e.ruleForm.work_time=r.data.data[0].work_time,e.ruleForm.personnel1=r.data.data[0].personnel1,e.ruleForm.personnel2=r.data.data[0].personnel2,e.ruleForm.deliverables=r.data.data[0].deliverables,e.ruleForm.deliverable_space=r.data.data[0].deliverable_space,e.ruleForm.commission=r.data.data[0].commission,e.ruleForm.payment_date=r.data.data[0].payment_date,e.ruleForm.acceptance_conditions=r.data.data[0].acceptance_conditions,e.ruleForm.other=r.data.data[0].other,e.ruleForm.note=r.data.data[0].note})).catch((function(e){console.log(e)}))},getCustomerDataOne:function(){var e=this,r={};r["customer_code"]=this.cOrderForm.customer_code,Object(l["b"])(r).then((function(r){e.ruleForm.customer_address=r.data.data[0].address1+" "+r.data.data[0].address2+" "+r.data.data[0].address3})).catch((function(e){console.log(e)}))},submitForm:function(e){var r=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;"put"===r.cOrderForm.method?r.putOrderData():r.postOrderData()}))},cancelForm:function(){this.$emit("cancel")}}},c=n,i=t("2877"),u=Object(i["a"])(c,o,a,!1,null,"61b14d5a",null);r["default"]=u.exports},9671:function(e,r,t){"use strict";t.d(r,"c",(function(){return a})),t.d(r,"d",(function(){return s})),t.d(r,"a",(function(){return l})),t.d(r,"b",(function(){return m})),t.d(r,"e",(function(){return n}));var o=t("1bab");function a(e){return Object(o["a"])({url:"/customer",method:"post",data:e})}function s(e){return Object(o["a"])({url:"/customer",method:"put",data:e})}function l(e){return Object(o["a"])({url:"/customer",method:"get",data:e})}function m(e){return Object(o["a"])({url:"/customer/"+e.customer_code,method:"get",data:e})}function n(e){return Object(o["a"])({url:"/SearchCustomerData",method:"post",data:e})}},f8b7:function(e,r,t){"use strict";t.d(r,"d",(function(){return a})),t.d(r,"e",(function(){return s})),t.d(r,"a",(function(){return l})),t.d(r,"b",(function(){return m})),t.d(r,"c",(function(){return n}));var o=t("1bab");function a(e){return Object(o["a"])({url:"/order",method:"post",data:e})}function s(e){return Object(o["a"])({url:"/order",method:"put",data:e})}function l(e){return Object(o["a"])({url:"/order/all/"+e.project_code,method:"get",data:e})}function m(e){return Object(o["a"])({url:"/order/one/"+e.order_code,method:"get",data:e})}function n(e){return Object(o["a"])({url:"/order/pdf/"+e.order_code,method:"get",data:e})}}}]);
//# sourceMappingURL=chunk-81c0bf04.7bf66c4d.js.map