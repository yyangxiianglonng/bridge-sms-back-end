(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9835f6d0","chunk-a7b99e9c"],{"4c79":function(t,e,r){"use strict";r.d(e,"c",(function(){return a})),r.d(e,"a",(function(){return l})),r.d(e,"b",(function(){return n})),r.d(e,"d",(function(){return u}));var o=r("1bab");function a(t){return Object(o["a"])({url:"/PostProductData",method:"post",data:t})}function l(t){return Object(o["a"])({url:"/GetProductDataAll",method:"get",data:t})}function n(t){return Object(o["a"])({url:"/GetProductDataOne",method:"post",data:t})}function u(t){return Object(o["a"])({url:"/SearchProductData",method:"post",data:t})}},6209:function(t,e,r){"use strict";var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-page-header",{attrs:{content:"详情页面"},on:{back:t.goBack}},[r("template",{slot:"title"},[t._t("title")],2),r("template",{slot:"content"},[t._t("content")],2)],2)},a=[],l={name:"PageHeader",methods:{goBack:function(){if(window.history.length<=1)return this.$router.push({path:"/ProjectList"}),!1;this.$router.go(-1)}}},n=l,u=(r("b0cc"),r("2877")),c=Object(u["a"])(n,o,a,!1,null,"9965c33a",null);e["a"]=c.exports},"6f9c":function(t,e,r){"use strict";r.r(e);var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("el-form",{ref:"ruleForm",attrs:{model:t.ruleForm,rules:t.rules}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{prop:"ProductName"}},[r("el-input",{model:{value:t.ruleForm.ProductName,callback:function(e){t.$set(t.ruleForm,"ProductName",e)},expression:"ruleForm.ProductName"}},[r("template",{slot:"prepend"},[t._v("商品名")])],2)],1)],1),r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{prop:"CategoryI"}},[r("el-input",{model:{value:t.ruleForm.CategoryI,callback:function(e){t.$set(t.ruleForm,"CategoryI",e)},expression:"ruleForm.CategoryI"}},[r("template",{slot:"prepend"},[t._v("カテゴリー")])],2)],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{prop:"Price"}},[r("el-input",{model:{value:t.ruleForm.Price,callback:function(e){t.$set(t.ruleForm,"Price",e)},expression:"ruleForm.Price"}},[r("template",{slot:"prepend"},[t._v("価格")])],2)],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:8}},[r("el-form-item",[r("el-button-group",[r("el-button",{attrs:{type:"warning"},on:{click:function(e){return t.cancelForm()}}},[t._v("キャンセル")]),r("el-button",{attrs:{type:"primary",icon:"el-icon-finished"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("登録")])],1)],1)],1)],1)],1)],1)},a=[],l=r("4c79"),n={name:"ProductForm",components:{},props:{productuuid:{type:String,default:""}},data:function(){return{ruleForm:{ProductName:"",CategoryI:"",Price:""},rules:{ProductName:[{required:!0,message:"商品名を入力してください",trigger:"blur"}],Price:[{required:!0,message:"金額を入力してください",trigger:"blur"}]}}},created:function(){this.productuuid&&this.getProductDataOne()},methods:{postProductData:function(){var t=this,e={};e["uuid"]=this.productuuid,e["ProductName"]=this.ruleForm.ProductName,e["CategoryI"]=this.ruleForm.CategoryI,e["CategoryII"]=this.ruleForm.CategoryII,e["CategoryIII"]=this.ruleForm.CategoryIII,e["Price"]=this.ruleForm.Price,Object(l["c"])(e).then((function(e){200==e.status?(t.$emit("submit"),t.$message({showClose:!0,message:"商品を登録・更新成功しました。",type:"success"})):(t.$emit("cancel"),t.$message({showClose:!0,message:"商品を登録・更新失敗しました。",type:"error"}))})).catch((function(t){console.log(t)}))},getProductDataOne:function(){var t=this,e={};e["uuid"]=this.productuuid,Object(l["b"])(e).then((function(e){t.ruleForm.ProductName=e.data.data[0].ProductName,t.ruleForm.CategoryI=e.data.data[0].CategoryI,t.ruleForm.Price=e.data.data[0].Price})).catch((function(t){console.log(t)}))},submitForm:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return console.log("error submit!!"),!1;e.postProductData()}))},cancelForm:function(){this.$emit("cancel")},resetForm:function(t){this.$refs[t].resetFields()}}},u=n,c=r("2877"),i=Object(c["a"])(u,o,a,!1,null,"1cb04773",null);e["default"]=i.exports},"7bf3":function(t,e,r){"use strict";r.r(e);var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("PageHeader",[r("template",{slot:"title"},[t._v("戻る")]),r("template",{slot:"content"},[t._v("商品一覧")])],2),[t._v("案件一覧画面です。")],[t._v("この画面で商品の確認できますし、編集ボタンから編集画面に遷移もできます。")],r("el-divider"),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:24}},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm}},[r("el-row",{attrs:{type:"flex",gutter:40,justify:"left"}},[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{prop:"ProductName"}},[r("el-input",{attrs:{placeholder:"商品名"},model:{value:t.ruleForm.ProductName,callback:function(e){t.$set(t.ruleForm,"ProductName",e)},expression:"ruleForm.ProductName"}},[r("template",{slot:"prepend"},[t._v("商品名")])],2)],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{prop:"CategoryI"}},[r("el-input",{attrs:{placeholder:"カテゴリー"},model:{value:t.ruleForm.CategoryI,callback:function(e){t.$set(t.ruleForm,"CategoryI",e)},expression:"ruleForm.CategoryI"}},[r("template",{slot:"prepend"},[t._v("カテゴリー")])],2)],1)],1)],1),r("el-row",{attrs:{type:"flex",gutter:40,justify:"start"}},[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{prop:"Price"}},[r("el-input",{attrs:{placeholder:"価格"},model:{value:t.ruleForm.Price,callback:function(e){t.$set(t.ruleForm,"Price",e)},expression:"ruleForm.Price"}},[r("template",{slot:"prepend"},[t._v("価格")])],2)],1)],1)],1),r("el-row",{attrs:{type:"flex",gutter:20,justify:"start"}},[r("el-col",{attrs:{span:11}},[r("el-form-item",[r("el-button-group",[r("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("検索")]),r("el-button",{attrs:{type:"warning"},on:{click:function(e){return t.resetForm("ruleForm")}}},[t._v("クリア")]),r("el-button",{attrs:{type:"success"},on:{click:t.createBtn}},[t._v("新規")])],1)],1)],1)],1)],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:24}},[r("el-divider")],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:24}},[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData.filter((function(e){return!t.search||e.ProductName.toLowerCase().includes(t.search.toLowerCase())}))}},[r("template",{slot:"empty"},[t._v("商品がありません")]),r("el-table-column",{attrs:{label:"商品名",prop:"ProductName"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("a",{staticStyle:{color:"#ffd04b",cursor:"pointer","font-weight":"500"},on:{click:function(r){return t.handleEdit(e.$index,e.row)}}},[t._v(t._s(e.row.ProductName))])]}}])}),r("el-table-column",{attrs:{label:"カテゴリー",prop:"CategoryI"}}),r("el-table-column",{attrs:{label:"価格（円）",prop:"Price"}}),r("el-table-column",{attrs:{align:"right"},scopedSlots:t._u([{key:"header",fn:function(e){return[r("el-input",{attrs:{size:"mini",placeholder:"商品名で絞ります"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})]}},{key:"default",fn:function(e){return[r("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(r){return t.handleDelete(e.$index,e.row)}}},[t._v("削除 ")])]}}])})],2)],1)],1),r("div",[t.dialogFormVisible?r("el-dialog",{attrs:{title:"商品登録・更新",visible:t.dialogFormVisible,top:"5%","destroy-on-close":""},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[r("ProductForm",{attrs:{productuuid:t.uuid},on:{cancel:t.closeDialog,submit:t.reloadList}})],1):t._e()],1)],2)},a=[],l=r("4c79"),n=r("6209"),u=r("6f9c"),c={name:"ProductList",components:{PageHeader:n["a"],ProductForm:u["default"]},data:function(){return{ruleForm:{ProductName:"",CategoryI:"",Price:"",CreateDate:"",Is_Delete:!1},uuid:"",dialogFormVisible:!1,loading:!1,tableData:[{}],search:""}},created:function(){this.getProductDataAll()},methods:{getProductDataAll:function(){var t=this;Object(l["a"])().then((function(e){"200"===e.data.code&&(t.loading=!1,t.tableData=e.data.data)})).catch((function(t){console.log(t)}))},searchProductData:function(){var t=this,e={};e["ProductName"]=this.ruleForm.ProductName,e["CategoryI"]=this.ruleForm.CategoryI,e["Price"]=this.ruleForm.Price,Object(l["d"])(e).then((function(e){t.tableData=e.data.data})).catch((function(t){console.log(t)}))},submitForm:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return console.log("error submit!!"),!1;e.searchProductData()}))},closeDialog:function(){this.dialogFormVisible=!1},reloadList:function(){this.dialogFormVisible=!1,this.getProductDataAll()},handleEdit:function(t,e){this.uuid=e.uuid,this.dialogFormVisible=!0},resetForm:function(t){console.log("resetForm"),this.$refs[t].resetFields()},handleDelete:function(t,e){var r=this;this.loading=!0;var o={};o["uuid"]=e.uuid,o["Is_Delete"]=1,Object(l["c"])(o).then((function(t){var e=t.data.code;"200"===e&&r.getProductDataAll()})).catch((function(t){console.log(t)}))},createBtn:function(){this.uuid="",this.dialogFormVisible=!0}}},i=c,s=r("2877"),d=Object(s["a"])(i,o,a,!1,null,"eeb12d8e",null);e["default"]=d.exports},b0cc:function(t,e,r){"use strict";r("baba")},baba:function(t,e,r){}}]);
//# sourceMappingURL=chunk-9835f6d0.f0eeb0c4.js.map