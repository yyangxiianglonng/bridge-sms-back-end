(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1f60ebb9"],{"022f":function(e,t,o){},"0f87":function(e,t,o){"use strict";o("022f")},"1dde":function(e,t,o){var n=o("d039"),r=o("b622"),a=o("2d00"),c=r("species");e.exports=function(e){return a>=51||!n((function(){var t=[],o=t.constructor={};return o[c]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"25f0":function(e,t,o){"use strict";var n=o("6eeb"),r=o("825a"),a=o("d039"),c=o("ad6d"),i="toString",s=RegExp.prototype,l=s[i],u=a((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),d=l.name!=i;(u||d)&&n(RegExp.prototype,i,(function(){var e=r(this),t=String(e.source),o=e.flags,n=String(void 0===o&&e instanceof RegExp&&!("flags"in s)?c.call(e):o);return"/"+t+"/"+n}),{unsafe:!0})},6209:function(e,t,o){"use strict";var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-page-header",{attrs:{content:"详情页面"},on:{back:e.goBack}},[o("template",{slot:"title"},[e._t("title")],2),o("template",{slot:"content"},[e._t("content")],2)],2)},r=[],a={name:"PageHeader",methods:{goBack:function(){if(window.history.length<=1)return this.$router.push({path:"/ProjectList"}),!1;this.$router.go(-1)}}},c=a,i=(o("b0cc"),o("2877")),s=Object(i["a"])(c,n,r,!1,null,"9965c33a",null);t["a"]=s.exports},7273:function(e,t,o){"use strict";o.d(t,"d",(function(){return r})),o.d(t,"e",(function(){return a})),o.d(t,"a",(function(){return c})),o.d(t,"b",(function(){return i})),o.d(t,"f",(function(){return s})),o.d(t,"c",(function(){return l}));var n=o("1bab");function r(e){return Object(n["a"])({url:"/project",method:"post",data:e})}function a(e){return Object(n["a"])({url:"/project",method:"put",data:e})}function c(){return Object(n["a"])({url:"/project",method:"get"})}function i(e){return Object(n["a"])({url:"/project/one/"+e.project_code,method:"get",data:e})}function s(e){return Object(n["a"])({url:"/SearchProjectData",method:"post",data:e})}function l(e){return Object(n["a"])({url:"/project/timeline/"+e.project_code,method:"get",data:e})}},8418:function(e,t,o){"use strict";var n=o("c04e"),r=o("9bf2"),a=o("5c6c");e.exports=function(e,t,o){var c=n(t);c in e?r.f(e,c,a(0,o)):e[c]=o}},ad6d:function(e,t,o){"use strict";var n=o("825a");e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},b0cc:function(e,t,o){"use strict";o("baba")},b345:function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("PageHeader",[o("template",{slot:"title"},[e._v("戻る")]),o("template",{slot:"content"},[e._v("案件一覧")])],2),[e._v("案件一覧画面です。この画面で〇〇条件で案件を検索できます。")],o("el-divider"),o("el-row",{attrs:{gutter:10}},[o("el-col",{attrs:{span:"12"}},[o("el-card",{attrs:{shadow:"hover"}},[o("el-row",{attrs:{gutter:40}},[o("el-col",{attrs:{span:12}},[o("el-input",{model:{value:e.project_name,callback:function(t){e.project_name=t},expression:"project_name"}},[o("template",{slot:"prepend"},[e._v("案件名")])],2)],1),o("el-col",{attrs:{span:12}},[o("el-input",{model:{value:e.project_code,callback:function(t){e.project_code=t},expression:"project_code"}},[o("template",{slot:"prepend"},[e._v("案件CD")])],2)],1)],1),o("br"),o("el-row",{attrs:{gutter:40}},[o("el-col",{attrs:{span:12}},[o("el-input",{model:{value:e.personnel_name,callback:function(t){e.personnel_name=t},expression:"personnel_name"}},[o("template",{slot:"prepend"},[e._v("担当名")])],2)],1),o("el-col",{attrs:{span:12}},[o("el-input",{model:{value:e.synopsis,callback:function(t){e.synopsis=t},expression:"synopsis"}},[o("template",{slot:"prepend"},[e._v("得意先")])],2)],1)],1)],1)],1)],1),o("br"),o("el-row",{attrs:{gutter:10}},[o("el-col",{attrs:{span:"4"}},[o("el-button",{staticClass:"addBtn",attrs:{type:"info",icon:"el-icon-document-add",plain:""},on:{click:function(t){return e.createBtn()}}},[e._v("新 規 ")])],1)],1),o("el-row",{attrs:{type:"flex",gutter:20,justify:"left"}},[o("el-col",{attrs:{span:24}},[o("el-divider")],1)],1),o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:24}},[o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.table_data.filter((function(t){return!e.search||t.customer_name.toLowerCase().includes(e.search.toLowerCase())})).filter((function(t){return!e.project_name||t.project_name.toLowerCase().includes(e.project_name.toLowerCase())})).filter((function(t){return!e.project_code||t.project_code.toLowerCase().includes(e.project_code.toLowerCase())})).filter((function(t){return!e.personnel_name||t.personnel_name.toLowerCase().includes(e.personnel_name.toLowerCase())})).filter((function(t){return!e.synopsis||t.synopsis.toLowerCase().includes(e.synopsis.toLowerCase())})),"max-height":"490"}},[o("template",{slot:"empty"},[e._v("当条件データがありません")]),o("el-table-column",{attrs:{label:"案件名",prop:"project_name"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("a",{staticClass:"rowTxt",on:{click:function(o){return e.handleEdit(t.$index,t.row)}}},[e._v(e._s(t.row.project_name))])]}}])}),o("el-table-column",{attrs:{label:"案件詳細",prop:"synopsis"}}),o("el-table-column",{attrs:{label:"得意先",prop:"customer_name"}}),o("el-table-column",{attrs:{label:"担当者",prop:"personnel_name"}}),o("el-table-column",{attrs:{label:"作成日",prop:"created_at"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.created_at.toString().substr(0,10))+" ")]}}])}),o("el-table-column",{attrs:{label:"案件CD",prop:"project_code"}}),o("el-table-column",{attrs:{align:"right"},scopedSlots:e._u([{key:"header",fn:function(t){return[o("el-input",{attrs:{size:"mini",placeholder:"得意先名で絞ります"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})]}},{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"mini"},on:{click:function(o){return e.timeLine(t.$index,t.row)}}},[e._v("TimeLine ")])]}}])})],2)],1)],1),e.dialogTimeLineVisible?o("el-dialog",{attrs:{title:"タイムライン",visible:e.dialogTimeLineVisible,top:"5%","close-on-click-modal":!1,"destroy-on-close":""},on:{"update:visible":function(t){e.dialogTimeLineVisible=t}}},[o("el-timeline",e._l(e.activities,(function(t,n){return o("el-timeline-item",{key:n,attrs:{icon:e.icon(t),type:t.type,color:e.color(t),size:e.large,hollow:t.hollow,timestamp:t.change_at,placement:"top"}},[o("el-card",[o("h3",{domProps:{textContent:e._s(e.title(t))}}),o("p",{domProps:{textContent:e._s(e.body(t))}})])],1)})),1)],1):e._e()],2)},r=[],a=(o("d3b7"),o("25f0"),o("fb6a"),o("7273")),c=o("6209"),i=o("5c96"),s={name:"ProjectList",components:{PageHeader:c["a"]},data:function(){return{activities:[],project_name:"",project_code:"",customer_name:"",personnel_name:"",synopsis:"",dialogTimeLineVisible:!1,table_data:[],loading:!1,search:""}},created:function(){this.getProjectDataAll()},methods:{getProjectDataAll:function(){var e=this;this.loading=!0,Object(a["a"])().then((function(t){1===t.data.status?(e.table_data=t.data.data,e.loading=!1):e.loading=!1})).catch((function(e){console.log(e)}))},searchProjectData:function(){var e=this,t={};t["project_code"]=this.ruleForm.project_code,t["project_name"]=this.ruleForm.project_name,t["customer_name"]=this.ruleForm.customer_name,t["is_delete"]=this.ruleForm.is_delete,Object(a["f"])(t).then((function(t){1===t.data.status?(e.tableData=t.data.data,e.loading=!1):e.loading=!1})).catch((function(e){console.log(e)}))},getTimeLineData:function(e){var t=this,o={};o["project_code"]=e,Object(a["c"])(o).then((function(e){1===e.data.status?(t.activities=e.data.data,t.dialogTimeLineVisible=!0,console.log(t.activities)):Object(i["Message"])({showClose:!0,message:e.data.message,type:"error"})})).catch((function(e){console.log(e)}))},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.searchProjectData()}))},createBtn:function(){this.$router.push({path:"Projectform"})},handleEdit:function(e,t){console.log(t),this.$router.push({path:"Projectform",query:{project_code:t.project_code}})},handleDelete:function(e,t){console.log(t.project_code),this.$router.push({path:"Projectform",query:{project_code:t.project_code}})},timeLine:function(e,t){this.getTimeLineData(t.project_code)},getPdffile:function(){console.log("PDF")},resetForm:function(e){this.$refs[e].resetFields()},title:function(e){var t=e.status,o=e.changed,n=e.type;switch(t){case"PROJECT":t="案件";break;case"ESTIMATE":t="見積書";break;case"ORDER":t="注文書";break;case"DELIVERY":t="納品書";break;case"ACCEPTANCE":t="検収書";break;case"INVOICE":t="請求書";break;default:break}switch(n){case"INSERT":n="作成";break;case"UPDATE":n="更新";break;default:break}return t+o+n},body:function(e){var t=e.change_at,o=e.change_by,n=e.type,r=t.toString();switch(e.type){case"INSERT":n="作成";break;case"UPDATE":n="更新";break;default:break}return o+"が"+r.slice(0,4)+"/"+r.slice(5,7)+"/"+r.slice(8,10)+" "+r.slice(11,13)+":"+r.slice(14,16)+":"+r.slice(17,19)+"に"+n},icon:function(e){var t;switch(e.type){case"INSERT":t="el-icon-circle-plus-outline";break;case"UPDATE":t="el-icon-circle-check";break;default:break}return t},color:function(e){var t;switch(e.status){case"PROJECT":t="#3F6F8D";break;case"ESTIMATE":t="#4D2D22";break;case"ORDER":t="#FE8534";break;case"DELIVERY":t="#FCCA46";break;case"ACCEPTANCE":t="#A1C181";break;case"INVOICE":t="#619B8A";break;default:break}return t}}},l=s,u=(o("0f87"),o("2877")),d=Object(u["a"])(l,n,r,!1,null,null,null);t["default"]=d.exports},baba:function(e,t,o){},e8b5:function(e,t,o){var n=o("c6b6");e.exports=Array.isArray||function(e){return"Array"==n(e)}},fb6a:function(e,t,o){"use strict";var n=o("23e7"),r=o("861d"),a=o("e8b5"),c=o("23cb"),i=o("50c4"),s=o("fc6a"),l=o("8418"),u=o("b622"),d=o("1dde"),p=d("slice"),f=u("species"),m=[].slice,b=Math.max;n({target:"Array",proto:!0,forced:!p},{slice:function(e,t){var o,n,u,d=s(this),p=i(d.length),h=c(e,p),_=c(void 0===t?p:t,p);if(a(d)&&(o=d.constructor,"function"!=typeof o||o!==Array&&!a(o.prototype)?r(o)&&(o=o[f],null===o&&(o=void 0)):o=void 0,o===Array||void 0===o))return m.call(d,h,_);for(n=new(void 0===o?Array:o)(b(_-h,0)),u=0;h<_;h++,u++)h in d&&l(n,u,d[h]);return n.length=u,n}})}}]);
//# sourceMappingURL=chunk-1f60ebb9.ec76095e.js.map