(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0cc2ac94"],{"05e2":function(e,t,r){"use strict";r.d(t,"c",(function(){return o})),r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return s}));var a=r("1bab");function o(e){return Object(a["a"])({url:"/PostDeliveryData",method:"post",data:e})}function l(e){return Object(a["a"])({url:"/GetDeliveryDataAll",method:"post",data:e})}function s(e){return Object(a["a"])({url:"/GetDeliveryDataOne",method:"post",data:e})}},"35a8":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("PageHeader",[r("template",{slot:"title"},[e._v("戻る")]),r("template",{slot:"content"},[e._v("納品&検収書内容")])],2),[e._v("納品&検収書内容の確認及び修正する画面です。")],r("el-divider"),r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules}},[r("el-row",{attrs:{type:"flex",gutter:20,justify:"left"}},[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{prop:"CustomerName"}},[r("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.CustomerName,callback:function(t){e.$set(e.ruleForm,"CustomerName",t)},expression:"ruleForm.CustomerName"}},[r("template",{slot:"prepend"},[e._v("得意先名")])],2)],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{prop:"ProjectCode"}},[r("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.ProjectCode,callback:function(t){e.$set(e.ruleForm,"ProjectCode",t)},expression:"ruleForm.ProjectCode"}},[r("template",{slot:"prepend"},[e._v("案件CD")])],2)],1)],1)],1),r("el-row",{attrs:{type:"flex",gutter:20,justify:"left"}},[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{prop:"EstimateCode"}},[r("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.EstimateCode,callback:function(t){e.$set(e.ruleForm,"EstimateCode",t)},expression:"ruleForm.EstimateCode"}},[r("template",{slot:"prepend"},[e._v("見積CD")])],2)],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{prop:"DeliveryCode"}},[r("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.DeliveryCode,callback:function(t){e.$set(e.ruleForm,"DeliveryCode",t)},expression:"ruleForm.DeliveryCode"}},[r("template",{slot:"prepend"},[e._v("納品CD")])],2)],1)],1)],1),r("el-row",{attrs:{type:"flex",gutter:20,justify:"left"}},[r("el-col",{attrs:{span:16}},[r("el-form-item",{attrs:{prop:"ProjectName"}},[r("el-input",{attrs:{disabled:!0},model:{value:e.ruleForm.ProjectName,callback:function(t){e.$set(e.ruleForm,"ProjectName",t)},expression:"ruleForm.ProjectName"}},[r("template",{slot:"prepend"},[e._v("案件名")])],2)],1)],1)],1),r("el-row",{attrs:{type:"flex",gutter:20,justify:"left"}},[r("el-col",{attrs:{span:16}},[r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("el-col",{attrs:{span:10}},[e._v("商品名/摘要")]),r("el-col",{attrs:{span:4}},[e._v("数量")]),r("el-col",{attrs:{span:10}},[e._v("備考")])],1),r("div",[r("el-row",{attrs:{gutter:0}},[r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{prop:"Deliverables1"}},[r("el-input",{model:{value:e.ruleForm.Deliverables1,callback:function(t){e.$set(e.ruleForm,"Deliverables1",t)},expression:"ruleForm.Deliverables1"}})],1)],1),r("el-col",{attrs:{span:4}},[r("el-form-item",{attrs:{prop:"Quantity1"}},[r("el-input",{model:{value:e.ruleForm.Quantity1,callback:function(t){e.$set(e.ruleForm,"Quantity1",t)},expression:"ruleForm.Quantity1"}})],1)],1),r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{prop:"Memo1"}},[r("el-input",{model:{value:e.ruleForm.Memo1,callback:function(t){e.$set(e.ruleForm,"Memo1",t)},expression:"ruleForm.Memo1"}})],1)],1),r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{prop:"Deliverables2"}},[r("el-input",{model:{value:e.ruleForm.Deliverables2,callback:function(t){e.$set(e.ruleForm,"Deliverables2",t)},expression:"ruleForm.Deliverables2"}})],1)],1),r("el-col",{attrs:{span:4}},[r("el-form-item",{attrs:{prop:"Quantity2"}},[r("el-input",{model:{value:e.ruleForm.Quantity2,callback:function(t){e.$set(e.ruleForm,"Quantity2",t)},expression:"ruleForm.Quantity2"}})],1)],1),r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{prop:"Memo2"}},[r("el-input",{model:{value:e.ruleForm.Memo2,callback:function(t){e.$set(e.ruleForm,"Memo2",t)},expression:"ruleForm.Memo2"}})],1)],1),r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{prop:"Deliverables3"}},[r("el-input",{model:{value:e.ruleForm.Deliverables3,callback:function(t){e.$set(e.ruleForm,"Deliverables3",t)},expression:"ruleForm.Deliverables3"}})],1)],1),r("el-col",{attrs:{span:4}},[r("el-form-item",{attrs:{prop:"Quantity3"}},[r("el-input",{model:{value:e.ruleForm.Quantity3,callback:function(t){e.$set(e.ruleForm,"Quantity3",t)},expression:"ruleForm.Quantity3"}})],1)],1),r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{prop:"Memo3"}},[r("el-input",{model:{value:e.ruleForm.Memo3,callback:function(t){e.$set(e.ruleForm,"Memo3",t)},expression:"ruleForm.Memo3"}})],1)],1)],1)],1)])],1)],1),r("br"),r("el-row",{attrs:{type:"flex",gutter:20,justify:"left"}},[r("el-col",{attrs:{span:16}},[r("el-form-item",{attrs:{label:"",prop:"Remarks"}},[r("el-input",{model:{value:e.ruleForm.Remarks,callback:function(t){e.$set(e.ruleForm,"Remarks",t)},expression:"ruleForm.Remarks"}},[r("template",{slot:"prepend"},[e._v("※(注)")])],2)],1)],1)],1),r("el-row",{attrs:{type:"flex",gutter:20,justify:"end"}},[r("el-col",{attrs:{span:10}},[r("p",[e._v("以上")])])],1),r("el-row",{attrs:{type:"flex",gutter:20,justify:"left"}},[r("el-col",{attrs:{span:16}},[r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("登録")]),r("el-button",{attrs:{type:"success"},on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("納品書PDF発行")]),r("el-button",{attrs:{type:"success"},on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("検収書PDF発行")]),r("el-button",{attrs:{type:"success"},on:{click:e.toInvoiceForm}},[e._v("入金")]),r("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("注文廃棄")])],1)],1)],1)],1)],2)},o=[],l=r("6209"),s=r("67b1"),u=r("05e2"),i={name:"DeliveryForm",components:{PageHeader:l["a"]},data:function(){return{ruleForm:{DeliveryCode:this.$route.query.DeliveryCode,ProjectName:this.$route.query.ProjectName,ProjectCode:this.$route.query.ProjectCode,EstimateCode:this.$route.query.EstimateCode,CustomerName:this.$route.query.CustomerName,Deliverables1:"",Deliverables2:"",Deliverables3:"",Quantity1:"",Quantity2:"",Quantity3:"",Memo1:"",Memo2:"",Memo3:"",Remarks:""},rules:{CustomerName:[{required:!0,message:"得意先名を入力してください",trigger:"change"}],CustomerAddress:[{required:!0,message:"得意先住所を入力してください",trigger:"blur"}],Work:[{required:!0,message:"作業内容を入力してください",trigger:"blur"}],WorkTime:[{required:!0,message:"作業期間を入力してください",trigger:"blur"}],PersonnelI:[{required:!0,message:"主任担当者(甲)を入力してください",trigger:"blur"}],PersonnelII:[{required:!0,message:"主任担当者(乙)を入力してください",trigger:"blur"}],Deliverables:[{required:!0,message:"成果物を入力してください",trigger:"blur"}],DeliverableSpace:[{required:!0,message:"納入場所を入力してください",trigger:"blur"}],Commission:[{required:!0,message:"委託料を入力してください",trigger:"blur"}],PaymentDate:[{required:!0,message:"支払期日を入力してください",trigger:"blur"}],AcceptanceConditions:[{required:!0,message:"検収条件を入力してください",trigger:"blur"}]}}},computed:{newDateTime:function(){var e=new Date,t=e.getFullYear(),r=e.getMonth()+1,a=e.getDate(),o=e.getHours(),l=e.getMinutes();r>=1&&r<=9&&(r="0"+r),a>=0&&a<=9&&(a="0"+a);var s=t+"-"+r+"-"+a+" "+o+":"+l;return s}},created:function(){this.$route.query.ProjectCode||this.getDeliveryDataOne(),this.getEstimateDataOne(),this.getEstimateDetailsDataAll()},methods:{getEstimateDataOne:function(){var e=this,t={};t["EstimateCode"]=this.$route.query.EstimateCode,Object(s["b"])(t).then((function(t){e.ruleForm.Deliverables1=t.data.data[0].Deliverables1,e.ruleForm.Deliverables2=t.data.data[0].Deliverables2,e.ruleForm.Deliverables3=t.data.data[0].Deliverables3,e.ruleForm.Quantity1=t.data.data[0].Quantity1,e.ruleForm.Quantity2=t.data.data[0].Quantity2,e.ruleForm.Quantity3=t.data.data[0].Quantity3})).catch((function(e){console.log(e)}))},getEstimateDetailsDataAll:function(){var e={};e["EstimateCode"]=this.$route.query.EstimateCode,Object(s["c"])(e).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))},getDeliveryDataOne:function(){var e=this,t={};t["DeliveryCode"]=this.$route.query.DeliveryCode,Object(u["b"])(t).then((function(t){console.log(t.data.data),e.ruleForm.DeliveryCode=t.data.data[0].DeliveryCode,e.ruleForm.ProjectName=t.data.data[0].ProjectName,e.ruleForm.ProjectCode=t.data.data[0].ProjectCode,e.ruleForm.EstimateCode=t.data.data[0].EstimateCode,e.ruleForm.CustomerName=t.data.data[0].CustomerName,e.ruleForm.Deliverables1=t.data.data[0].Deliverables1,e.ruleForm.Deliverables2=t.data.data[0].Deliverables2,e.ruleForm.Deliverables3=t.data.data[0].Deliverables3,e.ruleForm.Quantity1=t.data.data[0].Quantity1,e.ruleForm.Quantity2=t.data.data[0].Quantity2,e.ruleForm.Quantity3=t.data.data[0].Quantity3,e.ruleForm.Memo1=t.data.data[0].Memo1,e.ruleForm.Memo2=t.data.data[0].Memo2,e.ruleForm.Memo3=t.data.data[0].Memo3,e.ruleForm.Remarks=t.data.data[0].Remarks})).catch((function(e){console.log(e)}))},postDeliveryData:function(){var e=this,t={};t["DeliveryCode"]=this.ruleForm.DeliveryCode,t["EstimateCode"]=this.ruleForm.EstimateCode,t["ProjectCode"]=this.ruleForm.ProjectCode,t["ProjectName"]=this.ruleForm.ProjectName,t["CustomerName"]=this.ruleForm.CustomerName,t["Deliverables1"]=this.ruleForm.Deliverables1,t["Deliverables2"]=this.ruleForm.Deliverables2,t["Deliverables3"]=this.ruleForm.Deliverables3,t["Quantity1"]=this.ruleForm.Quantity1,t["Quantity2"]=this.ruleForm.Quantity2,t["Quantity3"]=this.ruleForm.Quantity3,t["Memo1"]=this.ruleForm.Memo1,t["Memo2"]=this.ruleForm.Memo2,t["Memo3"]=this.ruleForm.Memo3,t["Remarks"]=this.ruleForm.Remarks,t["DateTime"]=this.newDateTime,Object(u["c"])(t).then((function(t){"200"===t.data.code&&e.$router.push({path:"Projectform",query:{ProjectCode:e.ruleForm.ProjectCode,activeName:"third"}})})).catch((function(e){console.log(e)}))},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;alert("submit!"),t.postDeliveryData()}))},newProjectcode:function(e){var t=new Date,r=t.getFullYear(),a=t.getMonth()+1,o=t.getDate(),l=t.getHours(),s=t.getMinutes(),u=t.getSeconds();a>=1&&a<=9&&(a="0"+a),o>=0&&o<=9&&(o="0"+o);var i=e+r+a+o+l+s+u;return i},toInvoiceForm:function(){this.$router.push({path:"Invoiceform",query:{ProjectCode:this.ruleForm.ProjectCode,ProjectName:this.ruleForm.ProjectName,EstimateCode:this.ruleForm.EstimateCode,DeliveryCode:this.ruleForm.DeliveryCode,InvoiceCode:this.newProjectcode("Inv"),CustomerName:this.ruleForm.CustomerName}})}}},n=i,m=r("2877"),c=Object(m["a"])(n,a,o,!1,null,"468985f6",null);t["default"]=c.exports},6209:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-page-header",{attrs:{content:"详情页面"},on:{back:e.goBack}},[r("template",{slot:"title"},[e._t("title")],2),r("template",{slot:"content"},[e._t("content")],2)],2)},o=[],l={name:"PageHeader",methods:{goBack:function(){if(window.history.length<=1)return this.$router.push({path:"/ProjectList"}),!1;this.$router.go(-1)}}},s=l,u=(r("b0cc"),r("2877")),i=Object(u["a"])(s,a,o,!1,null,"9965c33a",null);t["a"]=i.exports},"67b1":function(e,t,r){"use strict";r.d(t,"d",(function(){return o})),r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return s})),r.d(t,"e",(function(){return u})),r.d(t,"c",(function(){return i}));var a=r("1bab");function o(e){return Object(a["a"])({url:"/PostEstimateData",method:"post",data:e})}function l(e){return Object(a["a"])({url:"/GetEstimateDataALL",method:"post",data:e})}function s(e){return Object(a["a"])({url:"/GetEstimateDataOne",method:"post",data:e})}function u(e){return Object(a["a"])({url:"/PostEstimateDetailsData",method:"post",data:e})}function i(e){return Object(a["a"])({url:"/GetEstimateDetailsDataAll",method:"post",data:e})}},b0cc:function(e,t,r){"use strict";r("baba")},baba:function(e,t,r){}}]);
//# sourceMappingURL=chunk-0cc2ac94.747ca7b7.js.map