(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0dc81231"],{ade4:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-row",{staticClass:"resetpassword"},[r("el-card",{attrs:{shadow:"never"}},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm}},[r("el-col",{attrs:{span:24}},[r("el-form-item",[r("h4",[e._v("パスワードをリセットします。")])])],1),r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"",prop:"email",rules:[{required:!0,message:"EmailAddressを入力してください。",trigger:"blur"},{type:"email",message:"EmailAddressを正しく入力してください。",trigger:["blur","change"]}]}},[r("el-input",{attrs:{type:"age",autocomplete:"off",placeholder:"メール",disabled:this.status},model:{value:e.ruleForm.email,callback:function(t){e.$set(e.ruleForm,"email",e._n(t))},expression:"ruleForm.email"}})],1)],1),this.status?r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"",prop:"rand_num"}},[r("el-input",{attrs:{type:"password",autocomplete:"off",placeholder:"BRSコード"},model:{value:e.ruleForm.rand_num,callback:function(t){e.$set(e.ruleForm,"rand_num",t)},expression:"ruleForm.rand_num"}})],1)],1):e._e(),r("el-col",{attrs:{span:24}},[this.status?r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitFormRandNum("ruleForm")}}},[r("span",[e._v("送信")])])],1):r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[r("span",[e._v("コード発行")])])],1)],1),r("el-col",{attrs:{span:24}},[r("el-form-item",[r("h5",[e._v(" Password思い出しましたか？ "),r("el-link",{attrs:{href:"/#/signin",underline:!1,type:"primary"}},[e._v("サインイン")]),e._v(" へ ")],1)])],1)],1)],1)],1)},n=[],s=r("c24f"),o=r("5c96"),u={name:"ResetPassword",data:function(){return{status:!1,ruleForm:{email:"",rand_num:""}}},methods:{checkEmail:function(){var e=this,t={};t["email"]=this.ruleForm.email,Object(s["e"])(t).then((function(t){1===t.data.status?(e.status=!0,Object(o["Message"])({showClose:!0,message:t.data.message,type:"success"})):Object(o["Message"])({showClose:!0,message:t.data.message,type:"error"})})).catch((function(e){console.log(e)}))},checkRandNum:function(){var e=this,t={};t["email"]=this.ruleForm.email,t["rand_num"]=this.ruleForm.rand_num,Object(s["f"])(t).then((function(t){1===t.data.status?(clearTimeout(e.timer),e.timer=setTimeout((function(){e.$router.push({path:"PasswordInput",query:{email:e.ruleForm.email,rand_num:e.ruleForm.rand_num}})}),3e3),Object(o["Message"])({showClose:!0,message:t.data.message,type:"success"})):Object(o["Message"])({showClose:!0,message:t.data.message,type:"error"})})).catch((function(e){console.log(e)}))},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.checkEmail()}))},submitFormRandNum:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.checkRandNum()}))}}},l=u,i=(r("cf9e"),r("2877")),m=Object(i["a"])(l,a,n,!1,null,null,null);t["default"]=m.exports},c24f:function(e,t,r){"use strict";r.d(t,"d",(function(){return n})),r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return u})),r.d(t,"e",(function(){return l})),r.d(t,"f",(function(){return i}));var a=r("1bab");function n(e){return Object(a["a"])({url:"/login/signup",method:"post",data:e})}function s(e){return Object(a["a"])({url:"/login/signup",method:"put",data:e})}function o(e){return Object(a["a"])({url:"/login/resetpassword/"+e.email,method:"put",data:e})}function u(e){return Object(a["a"])({url:"/login",method:"post",data:e})}function l(e){return Object(a["a"])({url:"/login/checkemail/"+e.email,method:"get",data:e})}function i(e){return Object(a["a"])({url:"/login/randnum",method:"get",params:e})}},cf9e:function(e,t,r){"use strict";r("f24a")},f24a:function(e,t,r){}}]);
//# sourceMappingURL=chunk-0dc81231.2265d8c9.js.map