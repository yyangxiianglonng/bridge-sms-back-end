(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-44e1e39c","chunk-4354eb00"],{"1dde":function(t,e,r){var o=r("d039"),a=r("b622"),n=r("2d00"),c=a("species");t.exports=function(t){return n>=51||!o((function(){var e=[],r=e.constructor={};return r[c]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"4c79":function(t,e,r){"use strict";r.d(e,"d",(function(){return a})),r.d(e,"e",(function(){return n})),r.d(e,"b",(function(){return c})),r.d(e,"c",(function(){return i})),r.d(e,"a",(function(){return u})),r.d(e,"f",(function(){return l}));var o=r("1bab");function a(t){return Object(o["a"])({url:"/product",method:"post",data:t})}function n(t){return Object(o["a"])({url:"/product",method:"put",data:t})}function c(t){return Object(o["a"])({url:"/product",method:"get",data:t})}function i(t){return Object(o["a"])({url:"/product/"+t.id,method:"get",data:t})}function u(t){return Object(o["a"])({url:"/product/"+t.id,method:"delete",data:t})}function l(t){return Object(o["a"])({url:"/SearchProductData",method:"post",data:t})}},"4de4":function(t,e,r){"use strict";var o=r("23e7"),a=r("b727").filter,n=r("1dde"),c=n("filter");o({target:"Array",proto:!0,forced:!c},{filter:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},6209:function(t,e,r){"use strict";var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-page-header",{attrs:{content:"详情页面"},on:{back:t.goBack}},[r("template",{slot:"title"},[t._t("title")],2),r("template",{slot:"content"},[t._t("content")],2)],2)},a=[],n={name:"PageHeader",methods:{goBack:function(){if(window.history.length<=1)return this.$router.push({path:"/ProjectList"}),!1;this.$router.go(-1)}}},c=n,i=(r("b0cc"),r("2877")),u=Object(i["a"])(c,o,a,!1,null,"9965c33a",null);e["a"]=u.exports},"65f0":function(t,e,r){var o=r("861d"),a=r("e8b5"),n=r("b622"),c=n("species");t.exports=function(t,e){var r;return a(t)&&(r=t.constructor,"function"!=typeof r||r!==Array&&!a(r.prototype)?o(r)&&(r=r[c],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===e?0:e)}},"6f9c":function(t,e,r){"use strict";r.r(e);var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("el-form",{ref:"ruleForm",attrs:{model:t.ruleForm,rules:t.rules}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{prop:"product_name"}},[r("el-input",{model:{value:t.ruleForm.product_name,callback:function(e){t.$set(t.ruleForm,"product_name",e)},expression:"ruleForm.product_name"}},[r("template",{slot:"prepend"},[t._v("商品名")])],2)],1)],1),r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{prop:"category1"}},[r("el-autocomplete",{staticStyle:{width:"100%"},attrs:{"popper-class":"my-autocomplete","fetch-suggestions":t.querySearch,placeholder:"カテゴリー"},on:{select:t.handleSelect},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.item;return[r("div",{staticClass:"name"},[t._v(t._s(o.value=o.category_name))])]}}]),model:{value:t.ruleForm.category1,callback:function(e){t.$set(t.ruleForm,"category1",e)},expression:"ruleForm.category1"}},[r("i",{staticClass:"el-icon-edit el-input__icon",attrs:{slot:"suffix"},on:{click:t.handleIconClick},slot:"suffix"}),r("template",{slot:"prepend"},[t._v("カテゴリー")])],2)],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{prop:"price"}},[r("el-input",{model:{value:t.ruleForm.price,callback:function(e){t.$set(t.ruleForm,"price",e)},expression:"ruleForm.price"}},[r("template",{slot:"prepend"},[t._v("価格")])],2)],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:24}},[r("el-form-item",[r("el-button-group",[r("el-button",{attrs:{type:"warning",icon:"el-icon-document-delete",plain:""},on:{click:function(e){return t.cancelForm()}}},[t._v("閉じる")]),r("el-button",{attrs:{type:"primary",icon:"el-icon-document-checked",plain:""},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("登録・更新")])],1)],1)],1)],1)],1)],1)},a=[],n=(r("4de4"),r("4c79")),c=r("c405"),i=r("5c96"),u={name:"ProductForm",components:{},props:{productId:{type:String,default:""}},data:function(){return{ruleForm:{product_name:"",category1:"",price:""},Categories:[],rules:{product_name:[{required:!0,message:"商品名を入力してください",trigger:"blur"}],price:[{required:!0,message:"金額を入力してください",trigger:"blur"}]}}},created:function(){this.productId&&this.getProductDataOne(),this.getCategoryDataAll()},methods:{postProductData:function(){var t=this,e={};e["product_name"]=this.ruleForm.product_name,e["category1"]=this.ruleForm.category1,e["category1I"]=this.ruleForm.category1I,e["category1II"]=this.ruleForm.category1II,e["price"]=this.ruleForm.price,Object(n["d"])(e).then((function(e){200==e.status?(t.$emit("submit"),Object(i["Message"])({showClose:!0,message:e.data.message,type:"success"})):(t.$emit("cancel"),Object(i["Message"])({showClose:!0,message:e.data.message,type:"error"}))})).catch((function(t){console.log(t)}))},putProductData:function(){var t=this,e={};e["product_name"]=this.ruleForm.product_name,e["category1"]=this.ruleForm.category1,e["category1I"]=this.ruleForm.category1I,e["category1II"]=this.ruleForm.category1II,e["price"]=this.ruleForm.price,e["id"]=this.productId,Object(n["e"])(e).then((function(e){200==e.status?(t.$emit("submit"),Object(i["Message"])({showClose:!0,message:e.data.message,type:"success"})):(t.$emit("cancel"),Object(i["Message"])({showClose:!0,message:e.data.message,type:"error"}))})).catch((function(t){console.log(t)}))},getProductDataOne:function(){var t=this,e={};e["id"]=this.productId,Object(n["c"])(e).then((function(e){t.ruleForm.product_name=e.data.data[0].product_name,t.ruleForm.category1=e.data.data[0].category1,t.ruleForm.price=e.data.data[0].price})).catch((function(t){console.log(t)}))},getCategoryDataAll:function(){var t=this;Object(c["b"])().then((function(e){t.Categories=e.data.data})).catch((function(t){console.log(t)}))},submitForm:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return console.log("error submit!!"),!1;e.productId?e.putProductData():e.postProductData()}))},querySearch:function(t,e){var r=this.Categories,o=t?r.filter(this.createFilter(t)):r;e(o)},createFilter:function(t){return function(e){return 0===e.category_name.toLowerCase().indexOf(t.toLowerCase())}},handleSelect:function(t){console.log(t)},handleIconClick:function(t){console.log(t)},cancelForm:function(){this.$emit("cancel")},resetForm:function(t){this.$refs[t].resetFields()}}},l=u,s=r("2877"),d=Object(s["a"])(l,o,a,!1,null,"a5e6c966",null);e["default"]=d.exports},"7bf3":function(t,e,r){"use strict";r.r(e);var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("PageHeader",[r("template",{slot:"title"},[t._v("戻る")]),r("template",{slot:"content"},[t._v("商品一覧")])],2),[t._v("案件一覧画面です。")],[t._v("この画面で商品の確認できますし、編集ボタンから編集画面に遷移もできます。")],r("el-divider"),r("el-row",{attrs:{gutter:10}},[r("el-col",{attrs:{span:"12"}},[r("el-card",{attrs:{shadow:"hover"}},[r("el-row",{attrs:{gutter:40}},[r("el-col",{attrs:{span:12}},[r("el-input",{model:{value:t.product_name,callback:function(e){t.product_name=e},expression:"product_name"}},[r("template",{slot:"prepend"},[t._v("商品名")])],2)],1),r("el-col",{attrs:{span:12}},[r("el-input",{model:{value:t.category1,callback:function(e){t.category1=e},expression:"category1"}},[r("template",{slot:"prepend"},[t._v("カテゴリー")])],2)],1)],1),r("br"),r("el-row",{attrs:{gutter:40}},[r("el-col",{attrs:{span:12}},[r("el-input",{model:{value:t.price,callback:function(e){t.price=e},expression:"price"}},[r("template",{slot:"prepend"},[t._v("価格")])],2)],1)],1)],1)],1)],1),r("br"),r("el-row",{attrs:{gutter:10}},[r("el-col",{attrs:{span:"4"}},[r("el-button",{staticClass:"addBtn",attrs:{type:"info",icon:"el-icon-document-add",plain:""},on:{click:function(e){return t.createBtn()}}},[t._v("新 規 ")])],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:24}},[r("el-divider")],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:24}},[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData.filter((function(e){return!t.search||e.product_name.toLowerCase().includes(t.search.toLowerCase())})).filter((function(e){return!t.product_name||e.product_name.toLowerCase().includes(t.product_name.toLowerCase())})).filter((function(e){return!t.category1||e.category1.toLowerCase().includes(t.category1.toLowerCase())})).filter((function(e){return!t.price||e.price.toLowerCase().includes(t.price.toLowerCase())}))}},[r("template",{slot:"empty"},[t._v("商品がありません")]),r("el-table-column",{attrs:{label:"商品名",prop:"product_name"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("a",{staticClass:"rowTxt",on:{click:function(r){return t.handleEdit(e.$index,e.row)}}},[t._v(t._s(e.row.product_name))])]}}])}),r("el-table-column",{attrs:{label:"カテゴリー",prop:"category1"}}),r("el-table-column",{attrs:{label:"価格（円）",prop:"price"}}),r("el-table-column",{attrs:{align:"right"},scopedSlots:t._u([{key:"header",fn:function(e){return[r("el-input",{attrs:{size:"mini",placeholder:"商品名で絞ります"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})]}},{key:"default",fn:function(e){return[r("el-button",{attrs:{size:"mini",type:"danger",plain:""},on:{click:function(r){return t.handleDelete(e.$index,e.row)}}},[t._v("削除 ")])]}}])})],2)],1)],1),r("div",[t.dialogFormVisible?r("el-dialog",{attrs:{title:"商品登録・更新",visible:t.dialogFormVisible,top:"5%","close-on-click-modal":!1,"destroy-on-close":""},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[r("ProductForm",{attrs:{productId:t.id},on:{cancel:t.closeDialog,submit:t.reloadList}})],1):t._e()],1)],2)},a=[],n=r("4c79"),c=r("6209"),i=r("6f9c"),u=r("5c96"),l={name:"ProductList",components:{PageHeader:c["a"],ProductForm:i["default"]},data:function(){return{ruleForm:{product_name:"",category1:"",price:"",CreateDate:"",Is_Delete:!1},product_name:"",category1:"",price:"",dialogFormVisible:!1,loading:!1,tableData:[],search:""}},created:function(){this.getProductDataAll()},methods:{getProductDataAll:function(){var t=this;this.loading=!0,Object(n["b"])().then((function(e){1===e.data.status?(t.tableData=e.data.data,t.loading=!1):(t.tableData=[],t.loading=!1)})).catch((function(t){console.log(t)}))},searchProductData:function(){var t=this,e={};e["product_name"]=this.ruleForm.product_name,e["category1"]=this.ruleForm.category1,e["price"]=this.ruleForm.price,Object(n["f"])(e).then((function(e){t.tableData=e.data.data})).catch((function(t){console.log(t)}))},submitForm:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return console.log("error submit!!"),!1;e.searchProductData()}))},closeDialog:function(){this.dialogFormVisible=!1},reloadList:function(){this.dialogFormVisible=!1,this.getProductDataAll()},handleEdit:function(t,e){this.id=e.id,this.dialogFormVisible=!0},resetForm:function(t){console.log("resetForm"),this.$refs[t].resetFields()},handleDelete:function(t,e){var r=this,o={};o["id"]=e.id,Object(n["a"])(o).then((function(t){200===t.status?(r.getProductDataAll(),Object(u["Message"])({showClose:!0,message:t.data.message,type:"success"})):Object(u["Message"])({showClose:!0,message:t.data.message,type:"error"})})).catch((function(t){console.log(t)}))},createBtn:function(){this.id="",this.dialogFormVisible=!0}}},s=l,d=r("2877"),p=Object(d["a"])(s,o,a,!1,null,"48acbb80",null);e["default"]=p.exports},b0cc:function(t,e,r){"use strict";r("baba")},b727:function(t,e,r){var o=r("0366"),a=r("44ad"),n=r("7b0b"),c=r("50c4"),i=r("65f0"),u=[].push,l=function(t){var e=1==t,r=2==t,l=3==t,s=4==t,d=6==t,p=7==t,f=5==t||d;return function(m,g,h,b){for(var y,v,_=n(m),F=a(_),w=o(g,h,3),O=c(F.length),j=0,C=b||i,k=e?C(m,O):r||p?C(m,0):void 0;O>j;j++)if((f||j in F)&&(y=F[j],v=w(y,j,_),t))if(e)k[j]=v;else if(v)switch(t){case 3:return!0;case 5:return y;case 6:return j;case 2:u.call(k,y)}else switch(t){case 4:return!1;case 7:u.call(k,y)}return d?-1:l||s?s:k}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterOut:l(7)}},baba:function(t,e,r){},c405:function(t,e,r){"use strict";r.d(e,"e",(function(){return a})),r.d(e,"f",(function(){return n})),r.d(e,"b",(function(){return c})),r.d(e,"d",(function(){return i})),r.d(e,"c",(function(){return u})),r.d(e,"g",(function(){return l})),r.d(e,"a",(function(){return s}));var o=r("1bab");function a(t){return Object(o["a"])({url:"/category",method:"post",data:t})}function n(t){return Object(o["a"])({url:"/category",method:"put",data:t})}function c(t){return Object(o["a"])({url:"/category",method:"get",data:t})}function i(t){return Object(o["a"])({url:"/category/parent",method:"get",data:t})}function u(t){return Object(o["a"])({url:"/category/"+t.id,method:"get",data:t})}function l(t){return Object(o["a"])({url:"/SearchCategoryData",method:"post",data:t})}function s(t){return Object(o["a"])({url:"/category/"+t.id,method:"delete",data:t})}},e8b5:function(t,e,r){var o=r("c6b6");t.exports=Array.isArray||function(t){return"Array"==o(t)}}}]);
//# sourceMappingURL=chunk-44e1e39c.8e84d983.js.map