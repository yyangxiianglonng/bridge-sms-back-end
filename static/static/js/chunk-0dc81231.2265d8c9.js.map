{"version":3,"sources":["webpack:///./src/views/sign/ResetPassword.vue?9042","webpack:///src/views/sign/ResetPassword.vue","webpack:///./src/views/sign/ResetPassword.vue?ae24","webpack:///./src/views/sign/ResetPassword.vue?9acd","webpack:///./src/api/user.js","webpack:///./src/views/sign/ResetPassword.vue?7113"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","ref","ruleForm","_v","required","message","trigger","type","status","model","value","callback","$$v","$set","_n","expression","_e","on","$event","submitFormRandNum","submitForm","staticRenderFns","name","data","email","rand_num","methods","checkEmail","values","checkRandNum","$refs","validate","valid","console","log","component","Signup","parameter","request","url","method","Active","ResetPassword","Signin","params"],"mappings":"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","file":"static/js/chunk-0dc81231.2265d8c9.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',{staticClass:\"resetpassword\"},[_c('el-card',{attrs:{\"shadow\":\"never\"}},[_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.ruleForm}},[_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',[_c('h4',[_vm._v(\"パスワードをリセットします。\")])])],1),_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"\",\"prop\":\"email\",\"rules\":[\n            {\n              required: true,\n              message: 'EmailAddressを入力してください。',\n              trigger: 'blur',\n            },\n            {\n              type: 'email',\n              message: 'EmailAddressを正しく入力してください。',\n              trigger: ['blur', 'change'],\n            } ]}},[_c('el-input',{attrs:{\"type\":\"age\",\"autocomplete\":\"off\",\"placeholder\":\"メール\",\"disabled\":this.status},model:{value:(_vm.ruleForm.email),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"email\", _vm._n($$v))},expression:\"ruleForm.email\"}})],1)],1),(this.status)?_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"\",\"prop\":\"rand_num\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"autocomplete\":\"off\",\"placeholder\":\"BRSコード\"},model:{value:(_vm.ruleForm.rand_num),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"rand_num\", $$v)},expression:\"ruleForm.rand_num\"}})],1)],1):_vm._e(),_c('el-col',{attrs:{\"span\":24}},[(!this.status)?_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('ruleForm')}}},[_c('span',[_vm._v(\"コード発行\")])])],1):_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitFormRandNum('ruleForm')}}},[_c('span',[_vm._v(\"送信\")])])],1)],1),_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',[_c('h5',[_vm._v(\" Password思い出しましたか？ \"),_c('el-link',{attrs:{\"href\":\"/#/signin\",\"underline\":false,\"type\":\"primary\"}},[_vm._v(\"サインイン\")]),_vm._v(\" へ \")],1)])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-row class=\"resetpassword\">\n    <el-card shadow=\"never\">\n      <el-form :model=\"ruleForm\" ref=\"ruleForm\" class=\"demo-ruleForm\">\n        <el-col :span=\"24\">\n          <el-form-item>\n            <h4>パスワードをリセットします。</h4>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"24\">\n          <el-form-item\n            label=\"\"\n            prop=\"email\"\n            :rules=\"[\n              {\n                required: true,\n                message: 'EmailAddressを入力してください。',\n                trigger: 'blur',\n              },\n              {\n                type: 'email',\n                message: 'EmailAddressを正しく入力してください。',\n                trigger: ['blur', 'change'],\n              },\n            ]\"\n          >\n            <el-input\n              type=\"age\"\n              v-model.number=\"ruleForm.email\"\n              autocomplete=\"off\"\n              placeholder=\"メール\"\n              :disabled=\"this.status\"\n            ></el-input>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"24\" v-if=\"this.status\">\n          <el-form-item label=\"\" prop=\"rand_num\">\n            <el-input\n              type=\"password\"\n              v-model=\"ruleForm.rand_num\"\n              autocomplete=\"off\"\n              placeholder=\"BRSコード\"\n            ></el-input>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"24\">\n          <el-form-item v-if=\"!this.status\">\n            <el-button type=\"primary\" @click=\"submitForm('ruleForm')\">\n              <span>コード発行</span>\n            </el-button>\n          </el-form-item>\n          <el-form-item v-else>\n            <el-button type=\"primary\" @click=\"submitFormRandNum('ruleForm')\">\n              <span>送信</span>\n            </el-button>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"24\">\n          <el-form-item>\n            <h5>\n              Password思い出しましたか？\n              <el-link href=\"/#/signin\" :underline=\"false\" type=\"primary\"\n                >サインイン</el-link\n              >\n              へ\n            </h5>\n          </el-form-item>\n        </el-col>\n      </el-form>\n    </el-card>\n  </el-row>\n</template>\n\n<script>\nimport { checkEmail, checkRandNum } from \"api/user\";\nimport { Message } from \"element-ui\";\n\nexport default {\n  name: \"ResetPassword\",\n  data() {\n    return {\n      status: false,\n      ruleForm: {\n        email: \"\",\n        rand_num: \"\",\n      },\n    };\n  },\n  methods: {\n    checkEmail() {\n      let values = {};\n      values[\"email\"] = this.ruleForm.email;\n      checkEmail(values)\n        .then((res) => {\n          if (res.data.status === 1) {\n            this.status = true;\n            Message({\n              showClose: true,\n              message: res.data.message,\n              type: \"success\",\n            });\n          } else {\n            Message({\n              showClose: true,\n              message: res.data.message,\n              type: \"error\",\n            });\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n    checkRandNum() {\n      let values = {};\n      values[\"email\"] = this.ruleForm.email;\n      values[\"rand_num\"] = this.ruleForm.rand_num;\n      checkRandNum(values)\n        .then((res) => {\n          if (res.data.status === 1) {\n            clearTimeout(this.timer); //清除延迟执行\n            this.timer = setTimeout(() => {\n              this.$router.push({\n                path: \"PasswordInput\",\n                query: {\n                  email: this.ruleForm.email,\n                  rand_num: this.ruleForm.rand_num,\n                },\n              });\n            }, 3000);\n\n            Message({\n              showClose: true,\n              message: res.data.message,\n              type: \"success\",\n            });\n          } else {\n            Message({\n              showClose: true,\n              message: res.data.message,\n              type: \"error\",\n            });\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n    submitForm(ruleForm) {\n      this.$refs[ruleForm].validate((valid) => {\n        if (valid) {\n          this.checkEmail();\n        } else {\n          console.log(\"error submit!!\");\n          return false;\n        }\n      });\n    },\n    submitFormRandNum(ruleForm) {\n      this.$refs[ruleForm].validate((valid) => {\n        if (valid) {\n          this.checkRandNum();\n        } else {\n          console.log(\"error submit!!\");\n          return false;\n        }\n      });\n    },\n  },\n};\n</script>\n\n<style>\n.el-button {\n  width: 100%;\n}\n\n.resetpassword {\n  margin: 0;\n  padding: 5% 20% 0 58%;\n  background-image: url(\"../../assets/img/5626873.jpg\");\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-position: center;\n  height: 100%;\n  width: 100%;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResetPassword.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResetPassword.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ResetPassword.vue?vue&type=template&id=0bb73a8c&\"\nimport script from \"./ResetPassword.vue?vue&type=script&lang=js&\"\nexport * from \"./ResetPassword.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ResetPassword.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { request } from 'network/request'\n\nexport function Signup(parameter) {\n  return request({\n    url: '/login/signup',\n    method: 'post',\n    data: parameter\n  })\n}\n\nexport function Active(parameter) {\n  return request({\n    url: '/login/signup',\n    method: 'put',\n    data: parameter\n  })\n}\n\nexport function ResetPassword(parameter) {\n  return request({\n    url: '/login/resetpassword/' + parameter.email,\n    method: 'put',\n    data: parameter\n  })\n}\n\n\nexport function Signin(parameter) {\n  return request({\n    url: '/login',\n    method: 'post',\n    data: parameter\n  })\n}\n\nexport function checkEmail(parameter) {\n  return request({\n    url: '/login/checkemail/' + parameter.email,\n    method: 'get',\n    data: parameter\n  })\n}\n\n\nexport function checkRandNum(parameter) {\n  return request({\n    url: '/login/randnum',\n    method: 'get',\n    params: parameter\n  })\n}","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResetPassword.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}